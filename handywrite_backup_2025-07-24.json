{
  "articles": [
    {
      "category": null,
      "content": "created: 2024-06-21\ntags: [FRP, Gitea, å†…ç½‘ç©¿é€, é…ç½®æŒ‡å—]\n---\n\n# FRP ç©¿é€é…ç½®ä¸ Gitea éƒ¨ç½²é—®é¢˜æ’æŸ¥æŠ¥å‘Š\n\n## é…ç½®æ€»è§ˆ\n### FRPS æœåŠ¡ç«¯é…ç½® (`frps.toml`)\n```toml\nbindAddr = \"0.0.0.0\"\nbindPort = 7000\nauth.method = \"token\"\nauth.token = \"hyh520888\"\n\n# ç›‘æ§é¢æ¿ï¼ˆå¯é€‰ï¼‰\nwebServer.addr = \"0.0.0.0\"\nwebServer.port = 7500\nwebServer.user = \"handy\"\nwebServer.password = \"hyh520888\"\n```\n\n### FRPC å®¢æˆ·ç«¯é…ç½® (`frpc.toml`)\n```toml\nserverAddr = \"117.72.109.148\"\nserverPort = 7000\nauth.method = \"token\"\nauth.token = \"hyh520888\"\n\n[[proxies]]\nname = \"gitea_http\"\ntype = \"tcp\"\nlocalIP = \"127.0.0.1\"\nlocalPort = 3010  # Giteaé»˜è®¤ç«¯å£\nremotePort = 8080  # å…¬ç½‘è®¿é—®ç«¯å£\n\n[[proxies]]\nname = \"gitea_ssh\"\ntype = \"tcp\"\nlocalIP = \"127.0.0.1\"\nlocalPort = 22    # SSHé»˜è®¤ç«¯å£\nremotePort = 2222  # å…¬ç½‘SSHç«¯å£\n```\n\n## å…³é”®é—®é¢˜ä¸è§£å†³æ–¹æ¡ˆ\n### 1. `json: unknown field \"gitea_http\"` é”™è¯¯\n**åŸå› **ï¼šTOMLæ ¼å¼é”™è¯¯ï¼Œä»£ç†è§„åˆ™æœªåµŒå¥—åœ¨`[[proxies]]`å—ä¸­  \n**ä¿®å¤æ–¹æ¡ˆ**ï¼š\n```diff\n- [gitea_http]\n+ [[proxies]]\n+ name = \"gitea_http\"\n```\n\n### 2. ç«¯å£è®¿é—®å¤±è´¥æ’æŸ¥æµç¨‹\n```mermaid\ngraph TD\n    A{https://117.72.109.148:8080/} --> B{èƒ½å¦è®¿é—®?}\n    B -->|å¦| C[æ£€æŸ¥FRPSç«¯å£å¼€æ”¾]\n    C --> D[firewall/å®‰å…¨ç»„æ”¾è¡Œ7000+8080]\n    D --> E[æ£€æŸ¥FRPCæ—¥å¿—]\n    E --> F[ç¡®è®¤localPort=Giteaå®é™…ç«¯å£]\n    F --> G[éªŒè¯ROOT_URLé…ç½®]\n```\n\n### 3. SSHç©¿é€ä¸“é¡¹é…ç½®\n| ç»„ä»¶ | å…³é”®é…ç½®é¡¹ | è¯´æ˜ |\n|------|-----------|------|\n| FRPS | `bindPort=7000` | åªéœ€åŸºç¡€é€šä¿¡ç«¯å£ |\n| FRPC | `localPort=22`, `remotePort=2222` | éœ€åŒ¹é…SSHæœåŠ¡ç«¯å£ |\n| é˜²ç«å¢™ | æ”¾è¡ŒTCP 2222 | äº‘æœåŠ¡å™¨éœ€æ§åˆ¶å°é…ç½® |\n\n## å®Œæ•´æ£€æŸ¥æ¸…å•\n1. [ ] FRPS/FRPCçš„`token`ä¸€è‡´\n2. [ ] `localPort`ä¸Giteaå®é™…ç«¯å£åŒ¹é…\n3. [ ] æœåŠ¡å™¨å®‰å…¨ç»„æ”¾è¡Œ`7000`+`8080`+`2222`\n4. [ ] Giteaçš„`app.ini`ä¸­`ROOT_URL`åŒ…å«å…¬ç½‘åœ°å€\n5. [ ] é€šè¿‡`frpc verify -c frpc.toml`éªŒè¯é…ç½®\n\n## é™„å½•ï¼šå¸¸ç”¨å‘½ä»¤\n```bash\n# ç«¯å£æµ‹è¯•\ntelnet 117.72.109.148 8080\n\n# æ—¥å¿—æŸ¥çœ‹\ntail -f /var/log/frpc.log\n\n# æœåŠ¡é‡å¯\nsudo systemctl restart gitea frpc frps\n```",
      "cover": null,
      "created_at": "Thu, 24 Jul 2025 15:58:38 GMT",
      "deleted_at": null,
      "id": 3,
      "summary": null,
      "tags": null,
      "title": "FRP ç©¿é€é…ç½®ä¸ Gitea éƒ¨ç½²é—®é¢˜æ’æŸ¥æŠ¥å‘Š",
      "updated_at": "Thu, 24 Jul 2025 15:58:38 GMT"
    },
    {
      "category": null,
      "content": "date: 2025-06-21T20:03:00\ntags:\n  - Gitea\n  - Action\n---\n\n# Gitea ActionåŒæ­¥åˆ° GitHub\n\n## 1. å‡†å¤‡å·¥ä½œ\n### ç¯å¢ƒè¦æ±‚\n- Gitea æœåŠ¡å™¨ï¼ˆç‰ˆæœ¬ â‰¥1.19ï¼‰\n- å·²å®‰è£… Docker\n- GitHub ä»“åº“çš„å†™å…¥æƒé™\n\n### å¯†é’¥é…ç½®\n```bash\n# ç”ŸæˆSSHå¯†é’¥ï¼ˆå¯é€‰æ–¹æ¡ˆï¼‰\nssh-keygen -t ed25519 -C \"your_email@example.com\"\ncat ~/.ssh/id_ed25519.pub\n```\n\n## 2. Action è„šæœ¬ç¼–å†™\n### å®Œæ•´å·¥ä½œæµæ–‡ä»¶ï¼ˆ.gitea/workflows/sync.ymlï¼‰\n````yaml\nname: Sync to GitHub\non: [push]\n\njobs:\n  sync:\n    runs-on: ubuntu-latest\n    steps:\n      - name: Checkout\n        uses: actions/checkout@v4\n        with:\n          fetch-depth: 0\n\n      - name: Configure Git\n        run: |\n          git config --global user.name \"Gitea Bot\"\n          git config --global user.email \"bot@example.com\"\n\n      - name: Add GitHub Remote\n        run: |\n          git remote remove github || true\n          git remote add github \"https://${{ secrets.GH_TOKEN }}@github.com/your/repo.git\"\n\n      - name: Push to GitHub\n        run: |\n          CURRENT_BRANCH=$(git symbolic-ref --short HEAD)\n          git push github HEAD:$CURRENT_BRANCH\n````\n\n## 3. Runner é…ç½®\n### Docker ç‰ˆå®‰è£…\n```bash\ndocker run -d \\\n  -v /var/run/docker.sock:/var/run/docker.sock \\\n  -v /path/to/runner/data:/data \\\n  -e GITEA_INSTANCE_URL=https://your.gitea.site \\\n  -e GITEA_RUNNER_REGISTRATION_TOKEN=<your_token> \\\n  -e GITEA_RUNNER_LABELS=\"ubuntu-latest:docker://node:16-bullseye\" \\\n  --name gitea-runner \\\n  gitea/act_runner:latest\n```\n\n### æ³¨å†Œä»¤ç‰Œè·å–ä½ç½®\n```\nGitea ç®¡ç†åå° -> Actions -> Runners\n```\n\n## 4. å¯†é’¥ç®¡ç†\n### éœ€é…ç½®çš„ Secrets\n| å˜é‡å        | è·å–ä½ç½®                              | æƒé™è¦æ±‚            |\n|---------------|-------------------------------------|--------------------|\n| `GH_TOKEN`    | GitHub Settings -> Developer Settings | repo è¯»å†™æƒé™       |\n| `GITEA_TOKEN` | Gitea Settings -> Applications      | repo è¯»å†™æƒé™       |\n\n## 5. è°ƒè¯•æµç¨‹\n### å¸¸è§é”™è¯¯æ’æŸ¥è¡¨\n| é”™è¯¯ç°è±¡                      | æ£€æŸ¥å‘½ä»¤                          | è§£å†³æ–¹æ¡ˆ                     |\n|-------------------------------|----------------------------------|----------------------------|\n| é•œåƒæ‹‰å–å¤±è´¥                 | `docker pull node:16-bullseye`   | é…ç½®é•œåƒåŠ é€Ÿå™¨             |\n| æƒé™æ‹’ç» (128)               | `ls -l /var/run/docker.sock`     | å°†ç”¨æˆ·åŠ å…¥ docker ç»„       |\n| æ— æ•ˆçš„å¼•ç”¨è§„èŒƒ               | `git symbolic-ref --short HEAD`  | æ˜ç¡®æŒ‡å®šåˆ†æ”¯åç§°           |\n| æ— æ³•è¿æ¥ GitHub              | `ssh -T git@github.com`          | é…ç½® SSH å¯†é’¥æˆ– PAT        |\n\n### æ—¥å¿—æŸ¥çœ‹æŠ€å·§\n```bash\n# å®æ—¶æŸ¥çœ‹Runneræ—¥å¿—\ndocker logs -f gitea-runner\n\n# æŸ¥çœ‹å·¥ä½œæµè¯¦ç»†æ—¥å¿—\njournalctl -u act_runner -n 50 --no-pager\n```\n\n## 6. ä¼˜åŒ–å»ºè®®\n1. **åˆ†æ”¯ä¿æŠ¤**ï¼šé‡è¦åˆ†æ”¯æ·»åŠ  `--force` ä¿æŠ¤\n2. **é•œåƒç¼“å­˜**ï¼šé…ç½® Docker é•œåƒåŠ é€Ÿå™¨\n3. **é€šçŸ¥æœºåˆ¶**ï¼šæ·»åŠ å·¥ä½œæµç»“æœé€šçŸ¥\n4. **å®šæ—¶åŒæ­¥**ï¼šæ·»åŠ å®šæ—¶è§¦å‘æ¡ä»¶\n\n```bash\n# ç¤ºä¾‹ï¼šæ¯å¤©å‡Œæ™¨åŒæ­¥\non:\n  schedule:\n    - cron: '0 0 * * *'\n```\n## 7. ç½‘ç»œä¼˜åŒ–\næœåŠ¡å™¨æœ‰æ—¶å€™æ— æ³•è®¿é—®Githubï¼Œå› æ­¤æˆ‘ä¿®æ”¹äº†æœåŠ¡å™¨çš„Hosts\n### 1. ä¿®æ”¹Hostsæ–‡ä»¶ï¼ˆæœ€å¸¸ç”¨æ–¹æ³•ï¼‰\n```bash\nsudo nano /etc/hosts\n```\næ·»åŠ ä»¥ä¸‹å†…å®¹ï¼ˆIPå¯èƒ½ä¼šå˜ï¼Œéœ€è¦å®šæœŸæ›´æ–°ï¼‰ï¼š\n```\n140.82.113.3 github.com\n140.82.114.20 gist.github.com\n185.199.108.153 assets-cdn.github.com\n199.232.69.194 github.global.ssl.fastly.net\n```\n\n### 2. ä½¿ç”¨Gité•œåƒåŠ é€Ÿ\n```bash\ngit config --global url.\"https://hub.fastgit.org\".insteadOf https://github.com\n```\n## é™„å½•\n### ç›¸å…³æ–‡æ¡£é“¾æ¥\n- [Gitea Actions æ–‡æ¡£](https://docs.gitea.com/usage/actions/overview)\n- [GitHub PAT åˆ›å»ºæŒ‡å—](https://docs.github.com/authentication/keeping-your-account-and-data-secure/creating-a-personal-access-token)\n- [Docker é•œåƒåŠ é€Ÿé…ç½®](https://docs.docker.com/registry/recipes/mirror/)",
      "cover": null,
      "created_at": "Thu, 24 Jul 2025 15:58:38 GMT",
      "deleted_at": null,
      "id": 4,
      "summary": null,
      "tags": null,
      "title": "Gitea ActionåŒæ­¥åˆ° GitHub",
      "updated_at": "Thu, 24 Jul 2025 15:58:38 GMT"
    },
    {
      "category": null,
      "content": "tags:\n  - Git\n  - Gitea\n  - ssh\n  - frp\n---\n\n# Gitea SSH è®¿é—®é…ç½®æŒ‡å—ï¼ˆé€šè¿‡ FRP å†…ç½‘ç©¿é€ï¼‰\n\n## 1. åŸºç¡€æ¶æ„\n```mermaid\ngraph LR\n    A[æœ¬åœ°ç”µè„‘] -->|SSH:2222| B[å…¬ç½‘æœåŠ¡å™¨]\n    B -->|FRP:2222â†’222| C[å†…ç½‘ Gitea]\n    B -->|HTTP:8080â†’3000| C\n```\n\n## 2. é…ç½®æ­¥éª¤\n\n### 2.1 Gitea æœåŠ¡ç«¯é…ç½®\n```ini\n# /etc/gitea/app.ini\n[server]\nSSH_PORT = 222             # å†…ç½‘SSHç«¯å£\nSSH_LISTEN_PORT = 222      # å¿…é¡»ä¸SSH_PORTä¸€è‡´\nHTTP_PORT = 3000           # HTTPæœåŠ¡ç«¯å£\n```\n\n### 2.2 FRP å®¢æˆ·ç«¯é…ç½®\n```ini\n# frpc.ini\n[[proxies]]\nname = \"gitea_ssh\"\ntype = \"tcp\"\nlocalIP = \"127.0.0.1\"\nlocalPort = 222     # å¯¹åº”Giteaçš„SSHç«¯å£\nremotePort = 2222   # å…¬ç½‘æš´éœ²ç«¯å£\n```\n\n### 2.3 é˜²ç«å¢™é…ç½®\n```bash\n# å…¬ç½‘æœåŠ¡å™¨æ”¾è¡Œç«¯å£\nsudo ufw allow 2222/tcp\nsudo ufw reload\n```\n\n## 3. å®¢æˆ·ç«¯é…ç½®\n\n### 3.1 SSH å¯†é’¥é…ç½®\n1. ç”Ÿæˆå¯†é’¥ï¼š\n```bash\nssh-keygen -t ed25519 -C \"your_email@example.com\"\n```\n\n2. æ·»åŠ å¯†é’¥åˆ°Giteaï¼š\n```bash\ncat ~/.ssh/id_ed25519.pub | pbcopy\n# ç²˜è´´åˆ°Giteaçš„SSH Keysè®¾ç½®\n```\n\n### 3.2 Git ä»“åº“é…ç½®\n```bash\ngit remote set-url origin ssh://git@git.yourdomain.com:2222/username/repo.git\n```\n\n## 4. æµ‹è¯•è¿æ¥\n```bash\nssh -T git@git.yourdomain.com -p 2222\n# é¢„æœŸè¿”å›ï¼š\n# Hi there! You've successfully authenticated...\n```\n\n## 5. æ•…éšœæ’æŸ¥è¡¨\n\n| ç°è±¡ | æ£€æŸ¥ç‚¹ | è§£å†³æ–¹æ¡ˆ |\n|------|--------|----------|\n| è¿æ¥è¶…æ—¶ | ç«¯å£å¯è¾¾æ€§ | `telnet git.yourdomain.com 2222` |\n| è®¤è¯å¤±è´¥ | SSHå¯†é’¥é…ç½® | æ£€æŸ¥`~/.ssh/config`å’ŒGiteaå…¬é’¥ |\n| HTTPå¯è®¿é—®ä½†SSHå¤±è´¥ | FRPæ˜ å°„ | `journalctl -u frpc`æŸ¥çœ‹æ—¥å¿— |\n\n## 6. é«˜çº§æŠ€å·§\n\n### 6.1 å¤šç¯å¢ƒé…ç½®\n```ssh-config\n# ~/.ssh/config\nHost gitea-prod\n    HostName git.yourdomain.com\n    Port 2222\n    User git\n    IdentityFile ~/.ssh/id_ed25519_prod\n\nHost gitea-test\n    HostName test.yourdomain.com\n    Port 2223\n    User git\n    IdentityFile ~/.ssh/id_ed25519_test\n```\n\n### 6.2 è‡ªåŠ¨åŒ–éƒ¨ç½²\n```bash\n#!/bin/bash\n# auto_deploy.sh\ngit push gitea-prod main\nssh -p 2222 git@git.yourdomain.com \"cd /repo/path && git pull\"\n```",
      "cover": null,
      "created_at": "Thu, 24 Jul 2025 15:58:38 GMT",
      "deleted_at": null,
      "id": 5,
      "summary": null,
      "tags": null,
      "title": "Gitea SSH è®¿é—®é…ç½®æŒ‡å—ï¼ˆé€šè¿‡ FRP å†…ç½‘ç©¿é€ï¼‰",
      "updated_at": "Thu, 24 Jul 2025 15:58:38 GMT"
    },
    {
      "category": null,
      "content": "date: 2025-06-23T17:16:00\ntags:\n  - Git\n---\n# Git å›¢é˜Ÿåä½œå·¥ä½œæµå®è·µæ•™ç¨‹\n\n## åŸºç¡€æ¦‚å¿µ\n\nGit æ˜¯ä¸€ä¸ªåˆ†å¸ƒå¼ç‰ˆæœ¬æ§åˆ¶ç³»ç»Ÿï¼Œç”¨äºè·Ÿè¸ªæ–‡ä»¶å˜æ›´å¹¶åè°ƒå¤šäººåä½œå¼€å‘ã€‚\n\n- **ä»“åº“(Repository)**: é¡¹ç›®æ–‡ä»¶å¤¹ï¼ŒåŒ…å«æ‰€æœ‰æ–‡ä»¶å’Œå†å²è®°å½•\n- **æäº¤(Commit)**: ä¸€æ¬¡æ–‡ä»¶å˜æ›´çš„å¿«ç…§\n- **åˆ†æ”¯(Branch)**: ç‹¬ç«‹å¼€å‘çº¿ï¼Œä¸å½±å“ä¸»çº¿(main/master)\n- **è¿œç¨‹ä»“åº“(Remote)**: å›¢é˜Ÿå…±äº«çš„ä¸­å¤®ä»£ç åº“(å¦‚GitHub/GitLab)\n\n## å®‰è£…Git\n\n1. ä¸‹è½½Git for Windows: https://git-scm.com/download/win\n2. è¿è¡Œå®‰è£…ç¨‹åºï¼Œå…¨éƒ¨ä½¿ç”¨é»˜è®¤é€‰é¡¹\n3. å®‰è£…å®Œæˆåï¼Œåœ¨ä»»æ„æ–‡ä»¶å¤¹å³é”®é€‰æ‹©\"Git Bash Here\"æ‰“å¼€å‘½ä»¤è¡Œ\n\n## åŸºç¡€é…ç½®\n\n```bash\n# è®¾ç½®ä½ çš„ç”¨æˆ·å(å›¢é˜Ÿä¸­å¯è§)\ngit config --global user.name \"ä½ çš„åå­—\"\n\n# è®¾ç½®ä½ çš„é‚®ç®±(å›¢é˜Ÿä¸­å¯è§)\ngit config --global user.email \"ä½ çš„é‚®ç®±@example.com\"\n```\n\n## åŸºç¡€å·¥ä½œæµ\n\n### åœºæ™¯1: å…‹éš†å·²æœ‰ä»“åº“\n\n```bash\n# å…‹éš†è¿œç¨‹ä»“åº“åˆ°æœ¬åœ°(æ›¿æ¢ä¸ºå®é™…URL)\ngit clone https://github.com/å›¢é˜Ÿ/é¡¹ç›®.git\n\n# è¿›å…¥é¡¹ç›®æ–‡ä»¶å¤¹\ncd é¡¹ç›®\n```\n\n### åœºæ™¯2: åˆ›å»ºæ–°åˆ†æ”¯\n\n```bash\n# æŸ¥çœ‹å½“å‰åˆ†æ”¯(å¸¦*çš„æ˜¯å½“å‰åˆ†æ”¯)\ngit branch\n\n# ä»mainåˆ†æ”¯åˆ›å»ºå¹¶åˆ‡æ¢åˆ°æ–°åˆ†æ”¯feature-login\ngit checkout -b feature-login\n\n# ç­‰æ•ˆäºä¸‹é¢ä¸¤æ¡å‘½ä»¤:\n# git branch feature-login   # åˆ›å»ºåˆ†æ”¯\n# git checkout feature-login # åˆ‡æ¢åˆ†æ”¯\n```\n\n### åœºæ™¯3: æ—¥å¸¸å¼€å‘æµç¨‹\n\n```bash\n# 1. å¼€å§‹å·¥ä½œå‰ï¼Œæ‹‰å–æœ€æ–°ä»£ç \ngit pull origin main #<è¿œç¨‹ä»“åº“> <æœ¬åœ°ä»“åº“>\n\n# 2. åˆ›å»ºæˆ–ä¿®æ”¹æ–‡ä»¶(ä¾‹å¦‚: index.html)\n\n# 3. æŸ¥çœ‹å½“å‰æ–‡ä»¶å˜æ›´çŠ¶æ€\ngit status\n\n# 4. æŸ¥çœ‹å…·ä½“å˜æ›´å†…å®¹\ngit diff\n\n# 5. æ·»åŠ å˜æ›´åˆ°æš‚å­˜åŒº(å‡†å¤‡æäº¤)\ngit add index.html\n# æˆ–æ·»åŠ æ‰€æœ‰å˜æ›´\ngit add .\n\n# 6. æäº¤å˜æ›´åˆ°æœ¬åœ°ä»“åº“\ngit commit -m \"æ·»åŠ ç”¨æˆ·ç™»å½•é¡µé¢å¸ƒå±€\"\n\n# 7. æ¨é€åˆ†æ”¯åˆ°è¿œç¨‹ä»“åº“\ngit push origin feature-login #<è¿œç¨‹ä»“åº“> <æœ¬åœ°ä»“åº“>\n```\n### åœºæ™¯3: ä¿®æ”¹æœ¬åœ°åˆ†æ”¯ä¸ºè¿œç¨‹åˆ†æ”¯\n2. æŸ¥çœ‹æ‰€æœ‰è¿œç¨‹åˆ†æ”¯ï¼ˆåŒ…æ‹¬ä½ æœ¬åœ°çš„åˆ†æ”¯ï¼‰ï¼š\n```bash\ngit branch -a\n```\n\n3. å¦‚æœè¦åˆ‡æ¢çš„åˆ†æ”¯å·²ç»å­˜åœ¨äºæœ¬åœ°ï¼š\n```bash\ngit checkout åˆ†æ”¯å\n```\n\n4. å¦‚æœè¦åˆ‡æ¢çš„åˆ†æ”¯åªåœ¨è¿œç¨‹å­˜åœ¨ï¼ˆæœ¬åœ°ä¸å­˜åœ¨ï¼‰ï¼š\n```bash\ngit checkout -b æœ¬åœ°åˆ†æ”¯å origin/è¿œç¨‹åˆ†æ”¯å\n```\n\n5. ç¡®è®¤ä½ å·²ç»åˆ‡æ¢åˆ°æ­£ç¡®çš„åˆ†æ”¯ï¼š\n```bash\ngit branch\n```\n\n6. å¼€å§‹ä½ çš„ä¿®æ”¹å·¥ä½œ\n\n7. ä¿®æ”¹å®Œæˆåï¼Œæäº¤æ›´æ”¹å¹¶æ¨é€åˆ°è¿œç¨‹åˆ†æ”¯ï¼š\n```bash\ngit add .\ngit commit -m \"ä½ çš„æäº¤ä¿¡æ¯\"\ngit push origin åˆ†æ”¯å\n```\næ³¨æ„äº‹é¡¹ï¼š\n- åˆ‡æ¢åˆ†æ”¯å‰æœ€å¥½å…ˆæäº¤æˆ–æš‚å­˜ä½ å½“å‰çš„ä¿®æ”¹ï¼Œå¦åˆ™å¯èƒ½ä¼šä¸¢å¤±å·¥ä½œ\n- å¦‚æœåˆ†æ”¯åæœ‰ç‰¹æ®Šå­—ç¬¦ï¼ˆå¦‚/ï¼‰ï¼Œå¯èƒ½éœ€è¦ç”¨å¼•å·æ‹¬èµ·æ¥\n- å¦‚æœè¿œç¨‹åˆ†æ”¯æœ‰æ›´æ–°ï¼Œè®°å¾—å…ˆ`git pull`è·å–æœ€æ–°ä»£ç \n### åœºæ™¯4: åˆå¹¶åˆ°ä¸»åˆ†æ”¯\n\n```bash\n# 1. åˆ‡æ¢å›mainåˆ†æ”¯\ngit checkout main\n\n# 2. æ‹‰å–æœ€æ–°ä»£ç (ç¡®ä¿æœ¬åœ°mainæ˜¯æœ€æ–°çš„)\ngit pull origin main\n\n# 3. åˆå¹¶featureåˆ†æ”¯\ngit merge feature-login\n\n# 4. è§£å†³å¯èƒ½çš„å†²çª(å¦‚æœæœ‰)\n# å†²çªæ–‡ä»¶ä¼šåŒ…å«<<<<<<<æ ‡è®°ï¼Œæ‰‹åŠ¨ç¼–è¾‘åä¿å­˜\n\n# 5. æ·»åŠ è§£å†³å†²çªåçš„æ–‡ä»¶\ngit add å†²çªçš„æ–‡ä»¶å\n\n# 6. å®Œæˆåˆå¹¶æäº¤\ngit commit\n\n# 7. æ¨é€æ›´æ–°åˆ°è¿œç¨‹mainåˆ†æ”¯\ngit push origin main\n```\n\n## å›¢é˜Ÿåä½œæœ€ä½³å®è·µ\n\n1. **å°æ­¥æäº¤**: æ¯ä¸ªæäº¤åªåšä¸€ä»¶äº‹ï¼Œæè¿°æ¸…æ™°\n2. **é¢‘ç¹æ‹‰å–**: å¼€å§‹å·¥ä½œå‰å…ˆ`git pull`è·å–æœ€æ–°ä»£ç \n3. **åˆ†æ”¯ç­–ç•¥**:\n   - `main`: ç¨³å®šå¯å‘å¸ƒçš„ä»£ç \n   - `feature/xxx`: åŠŸèƒ½å¼€å‘åˆ†æ”¯\n   - `hotfix/xxx`: ç´§æ€¥ä¿®å¤åˆ†æ”¯\n4. **ä»£ç å®¡æŸ¥**: ä½¿ç”¨Pull Request(Merge Request)æœºåˆ¶\n\n## å¸¸ç”¨å‘½ä»¤é€ŸæŸ¥\n\n```bash\n# æŸ¥çœ‹æäº¤å†å²\ngit log --oneline --graph\n\n# æ’¤é”€å·¥ä½œåŒºä¿®æ”¹(å±é™©!ä¼šä¸¢å¤±å˜æ›´)\ngit checkout -- æ–‡ä»¶å\n\n# æ’¤é”€æš‚å­˜åŒºçš„æ–‡ä»¶(å–æ¶ˆgit add)\ngit reset HEAD æ–‡ä»¶å\n\n# ä¿®æ”¹æœ€åä¸€æ¬¡æäº¤(æœªpushæ—¶)\ngit commit --amend\n\n# ä¸´æ—¶ä¿å­˜æœªå®Œæˆçš„å·¥ä½œ\ngit stash\ngit stash pop\n```",
      "cover": null,
      "created_at": "Thu, 24 Jul 2025 15:58:38 GMT",
      "deleted_at": null,
      "id": 6,
      "summary": null,
      "tags": null,
      "title": "Git å›¢é˜Ÿåä½œå·¥ä½œæµå®è·µæ•™ç¨‹",
      "updated_at": "Thu, 24 Jul 2025 15:58:38 GMT"
    },
    {
      "category": null,
      "content": "---\ntags: [AI/LLM, Ollama, LocalAI, Obsidian]\n---\n\n# Ollama å®Œæ•´ä½¿ç”¨æŒ‡å—\n\n## ç›®å½•\n- [[#å®‰è£…ä¸è·¯å¾„é…ç½®]]\n- [[#åŸºç¡€å‘½ä»¤]]\n- [[#æ¨¡å‹ç®¡ç†]]\n- [[#ä¸ Obsidian é›†æˆ]]\n- [[#å¸¸è§é—®é¢˜]]\n\n---\n\n## å®‰è£…ä¸è·¯å¾„é…ç½®\n### è‡ªå®šä¹‰å®‰è£…è·¯å¾„ï¼ˆWindowsï¼‰\n1. **è®¾ç½®ç¯å¢ƒå˜é‡**  \n   ```bash\n   # æ–°å»ºç³»ç»Ÿå˜é‡\n   å˜é‡å: OLLAMA_MODELS\n   å˜é‡å€¼: D:\\ollama\\.ollama  # æ›¿æ¢ä¸ºç›®æ ‡è·¯å¾„\n   ```\n2. **è¿ç§»ç°æœ‰æ•°æ®**  \n   ```powershell\n   # åœæ­¢æœåŠ¡\n   ollama serve stop\n   # å¤åˆ¶æ–‡ä»¶å¤¹\n   robocopy C:\\Users\\<ç”¨æˆ·>\\.ollama D:\\ollama\\.ollama /E /COPYALL\n   ```\n\n> ğŸ“Œ **éªŒè¯è·¯å¾„**  \n> è¿è¡Œ `ollama list` æŸ¥çœ‹æ¨¡å‹å­˜å‚¨ä½ç½®ã€‚\n\n---\n\n## åŸºç¡€å‘½ä»¤\n### æ¨¡å‹äº¤äº’\n```bash\n# æ‹‰å–æ¨¡å‹\nollama pull llama3\n\n# è¿è¡Œå¯¹è¯\nollama run llama3 \"å¦‚ä½•åšç•ªèŒ„ç‚’è›‹ï¼Ÿ\"\n\n# åˆ—å‡ºæ¨¡å‹\nollama list\n\n# åˆ é™¤æ¨¡å‹\nollama delete llama3\n```\n\n### é«˜çº§å‚æ•°\n```bash\n# å¸¦å‚æ•°è¿è¡Œ\nollama run llama3 --temperature 0.7 --num_ctx 4096\n```\n\n---\n\n## æ¨¡å‹ç®¡ç†\n### è‡ªå®šä¹‰æ¨¡å‹\n1. åˆ›å»º `Modelfile`ï¼š\n   ```dockerfile\n   FROM llama3\n   SYSTEM \"\"\"ä½ æ˜¯ä¸€ä¸ªä¸“ä¸šå¨å¸ˆï¼Œç”¨ä¸­æ–‡å›ç­”æ‰€æœ‰é—®é¢˜\"\"\"\n   ```\n\n2. æ„å»ºæ¨¡å‹ï¼š\n   ```bash\n   ollama create mychef -f Modelfile\n   ```\n\n### æ¨¡å‹åˆ†äº«\n```bash\nollama push mychef  # éœ€ç™»å½•\n```\n\n---\n\n## ä¸ Obsidian é›†æˆ\n### æ–¹æ¡ˆ 1ï¼šå‘½ä»¤è¡Œè°ƒç”¨\né€šè¿‡ [[Obsidian-AdvancedURI|AdvancedURI]] æ’ä»¶åˆ›å»ºå¿«é€ŸæŒ‡ä»¤ï¼š\n```markdown\n[è°ƒç”¨ Ollama](advanced-uri://vault/Kitchen?runcommand=ollama+run+mychef+%22{query}%22)\n```\n\n### æ–¹æ¡ˆ 2ï¼šPython è„šæœ¬\n```python\n# åœ¨ Obsidian çš„ Templater è„šæœ¬ä¸­\nimport subprocess\nresponse = subprocess.run([\"ollama\", \"run\", \"llama3\", query], capture_output=True)\nreturn response.stdout\n```\n\n---\n\n## å¸¸è§é—®é¢˜\n### 1. è·¯å¾„æ— æ•ˆ\n- ç¡®è®¤ç¯å¢ƒå˜é‡ç”Ÿæ•ˆï¼š\n  ```powershell\n  echo $env:OLLAMA_MODELS\n  ```\n- æ£€æŸ¥æ–‡ä»¶å¤¹æƒé™\n\n### 2. æ¨¡å‹ä¸‹è½½å¤±è´¥\n```bash\n# æ¢æºåŠ é€Ÿ\nsetx OLLAMA_REPO https://ollama.cn\n```\n\n### 3. GPU æœªè°ƒç”¨\n```bash\nollama run llama3 --gpu  # éœ€æå‰å®‰è£… CUDA\n```\n\n---",
      "cover": null,
      "created_at": "Thu, 24 Jul 2025 15:58:38 GMT",
      "deleted_at": null,
      "id": 7,
      "summary": null,
      "tags": null,
      "title": "Ollama å®Œæ•´ä½¿ç”¨æŒ‡å—",
      "updated_at": "Thu, 24 Jul 2025 15:58:38 GMT"
    },
    {
      "category": null,
      "content": "1. é¦–å…ˆè¿è¡Œ\n```bash\nsudo apt update\nsudo apt upgrade\n```\n2. ç„¶åè¿è¡Œ\n```bash\ncurl -sSL https://resource.fit2cloud.com/1panel/package/quick_start.sh -o quick_start.sh && sudo bash quick_start.sh\n```\n3. ç„¶åå°±è·Ÿç€å¼•å¯¼è®¾ç½®å°±èƒ½ä½¿ç”¨äº†\n4. ä½†æ˜¯ç°åœ¨æ²¡æœ‰è®¾ç½®å¼€æœºå¯åŠ¨ï¼Œæˆ‘ä»¬è¿›å…¥1panelæ‰€åœ¨çš„æ–‡ä»¶å¤¹ï¼Œè¿è¡Œ\n```bash\nsudo systemctl enable 1panel.service\nsudo systemctl start 1panel.service\n```\n5. ç„¶åæ£€æŸ¥1panelçš„è¿è¡ŒçŠ¶æ€\n```bash\nsudo systemctl status 1panel.service\n```",
      "cover": null,
      "created_at": "Thu, 24 Jul 2025 15:58:38 GMT",
      "deleted_at": null,
      "id": 8,
      "summary": null,
      "tags": null,
      "title": "æœåŠ¡å™¨å®‰è£…1panel",
      "updated_at": "Thu, 24 Jul 2025 15:58:38 GMT"
    },
    {
      "category": null,
      "content": "## â–¨ ä»€ä¹ˆåœºæ™¯éœ€è¦å®ƒï¼Ÿ\r\n\r\n\"æ¯æ¬¡æ¥åˆ°è€æ¿çš„å¤æ‚åˆ†æéœ€æ±‚å°±å¤´å¤§ï¼Ÿæ—¢è¦æŸ¥èµ„æ–™åˆè¦åšåˆ†æï¼Œä¸€ä¸ªäººæ ¹æœ¬å¿™ä¸è¿‡æ¥...\" å¤šAgentç³»ç»Ÿå°±æ˜¯ä½ çš„AIå›¢é˜Ÿï¼Œå¸®ä½ è‡ªåŠ¨åˆ†è§£ä»»åŠ¡ã€å¹¶è¡Œå¤„ç†ï¼Œåƒæœ‰ä¸ªå°åˆ†é˜Ÿåœ¨å¸®ä½ å¹²æ´»ï¼\r\n\r\n`Error: \"Timeout waiting for API response\" â†’ ä½ çš„å•çº¿ç¨‹ä»£ç åœ¨ç­‰ä¸€ä¸ªAPIæ—¶ï¼Œå…¶ä»–ä»»åŠ¡éƒ½åœ¨å¹²çªçœ¼`\r\n\r\n## âœ ä¸‰æ­¥å¿«é€Ÿä¸Šæ‰‹\r\n\r\n**STEP 1ï¼šæ­ç¯å¢ƒ**  \r\n```bash\r\n# å®‰è£…åŸºç¡€åº“ï¼ˆPython 3.8+ç¯å¢ƒï¼‰\r\npip install agentica crawl4ai \r\n# é…ç½®Dockerï¼ˆn8nå·¥ä½œæµå¼•æ“ï¼‰\r\ndocker pull n8nio/n8n:latest\r\n```\r\n\r\n**STEP 2ï¼šåˆ›å»ºä½ çš„ç¬¬ä¸€ä¸ªAIå›¢é˜Ÿ**  \r\n```python\r\nfrom agentica import Team\r\n\r\n# å°±åƒç»„å»ºé¡¹ç›®ç»„ä¸€æ ·ç®€å•\r\ntask_force = Team(roles={\r\n    \"é¡¹ç›®ç»ç†\": \"claude-opus\",  # è´Ÿè´£æ‹†è§£ä»»åŠ¡\r\n    \"è°ƒç ”å‘˜\": \"claude-sonnet\",  # è´Ÿè´£èµ„æ–™æ”¶é›†\r\n    \"åˆ†æå¸ˆ\": \"gpt-4\"          # è´Ÿè´£æ·±åº¦åˆ†æ\r\n})\r\n\r\n# è®©å›¢é˜Ÿè¿ä½œèµ·æ¥\r\nreport = task_force.run(\r\n    task=\"åˆ†ææ–°èƒ½æºæ±½è½¦ç”µæ± æŠ€æœ¯å‘å±•è¶‹åŠ¿\",\r\n    workflow=[\r\n        {\"role\": \"é¡¹ç›®ç»ç†\", \"action\": \"æ‹†è§£ä»»åŠ¡\"},\r\n        {\"role\": \"è°ƒç ”å‘˜\", \"action\": \"å…¨ç½‘æœç´¢\"},\r\n        {\"role\": \"åˆ†æå¸ˆ\", \"action\": \"ç”ŸæˆæŠ¥å‘Š\"}\r\n    ]\r\n)\r\n```\r\n\r\n**STEP 3ï¼šéªŒè´§**  \r\n```python\r\nprint(report[:500])  # æŸ¥çœ‹æŠ¥å‘Šå‰500å­—\r\n# ç†æƒ³è¾“å‡ºåº”åŒ…å«ï¼šå…³é”®æŠ€æœ¯ç‚¹ã€è¶‹åŠ¿é¢„æµ‹ã€æ•°æ®æ¥æºå¼•ç”¨\r\n```\r\n\r\n## â–£ é¿å‘æŒ‡å—\r\n\r\n**åœºæ™¯1ï¼šAgentäº’ç›¸æ‰“æ¶**  \r\n* **ç¿»è½¦ç°åœº**ï¼š  \r\n  `ConflictError: Multiple agents trying to modify same data`  \r\n  â†’ å¤šä¸ªAgentåŒæ—¶ä¿®æ”¹åŒä¸€ä»½æ•°æ®\r\n* **æŠ¢æ•‘æ–¹æ¡ˆ**ï¼š  \r\n  ```python\r\n  # åœ¨å›¢é˜Ÿé…ç½®ä¸­æ·»åŠ åè°ƒè§„åˆ™\r\n  Team(..., conflict_rules={\"æ•°æ®ä¿®æ”¹\": \"sequential\"})  # æ”¹ä¸ºä¸²è¡Œå¤„ç†\r\n  ```\r\n\r\n**åœºæ™¯2ï¼šæˆæœ¬å¤±æ§**  \r\n* **ç¿»è½¦ç°åœº**ï¼š  \r\n  æ”¶åˆ°å¤©ä»·APIè´¦å• â†’ æ²¡é™åˆ¶å¤§æ¨¡å‹è°ƒç”¨æ¬¡æ•°\r\n* **æŠ¢æ•‘æ–¹æ¡ˆ**ï¼š  \r\n  ```python\r\n  # ç»™æ¯ä¸ªè§’è‰²è®¾ç½®é¢„ç®—ä¸Šé™\r\n  roles={\r\n      \"åˆ†æå¸ˆ\": {\"model\": \"gpt-4\", \"budget\": 0.1}  # å•æ¬¡ä»»åŠ¡æœ€å¤šèŠ±0.1ç¾å…ƒ\r\n  }\r\n  ```\r\n\r\n## âš¡ éªšæ“ä½œæŠ€å·§\r\n\r\n**æŠ€å·§ï¼šå®æ—¶ç›‘æ§å·¥ä½œæµ**  \r\n```bash\r\n# åœ¨n8nå®¹å™¨é‡Œæ‰§è¡Œï¼Œå¯è§†åŒ–æŸ¥çœ‹ä»»åŠ¡æµè½¬\r\ndocker exec -it n8n_container n8n start --tunnel\r\n```\r\nç„¶åè®¿é—® `http://localhost:5678` å°±èƒ½çœ‹åˆ°åƒåœ°é“çº¿è·¯å›¾ä¸€æ ·çš„ä»»åŠ¡æµè½¬ï¼\r\n\r\n## ğŸ“Œ å¸¸ç”¨å‘½ä»¤å¢™è´´\r\n\r\n| åœºæ™¯ | å‘½ä»¤ | å¤‡æ³¨ |\r\n|------|------|------|\r\n| æŸ¥çœ‹AgentçŠ¶æ€ | `docker stats n8n_container` | çœ‹ä½ çš„AIå›¢é˜Ÿåƒäº†å¤šå°‘å†…å­˜ |\r\n| ç´§æ€¥æš‚åœæ‰€æœ‰ä»»åŠ¡ | `docker pause n8n_container` | âš ï¸ ç”Ÿäº§ç¯å¢ƒæ…ç”¨ |\r\n| å¯¼å‡ºå·¥ä½œæµå¤‡ä»½ | `docker cp n8n_container:/data .` | å®šæœŸå¤‡ä»½é˜²å“­è¯‰ |\r\n| æ€§èƒ½ç›‘æ§ | `n8n --metrics` | çœ‹çœ‹å“ªä¸ªç¯èŠ‚æ˜¯ç“¶é¢ˆ |\r\n\r\n## ğŸ¯ è¿›é˜¶è·¯çº¿\r\n\r\n1. **å‘¨ä¸€**ï¼šç”¨ç°æˆTeamæ¨¡æ¿è·‘é€šç¬¬ä¸€ä¸ªæŠ¥å‘Š\r\n2. **å‘¨ä¸‰**ï¼šè‡ªå®šä¹‰ä¸€ä¸ªè¡Œä¸šåˆ†æAgentï¼ˆä¿®æ”¹promptæ¨¡æ¿ï¼‰\r\n3. **å‘¨äº”**ï¼šæ¥å…¥ä¼ä¸šå¾®ä¿¡è‡ªåŠ¨å‘é€æ—¥æŠ¥ï¼ˆn8né…ç½®webhookï¼‰\r\n\r\n> \"ä¸Šå‘¨ç”¨è¿™ä¸ªæ¡†æ¶ï¼Œæˆ‘æŠŠ3å¤©çš„å·¥ä½œé‡å‹ç¼©åˆ°äº†3å°æ—¶ï¼è™½ç„¶ç¬¬ä¸€æ¬¡é…ç½®èŠ±äº†ç‚¹æ—¶é—´ï¼Œä½†ç»å¯¹å€¼å¾—ã€‚\" â€”â€” æŸé‡‘èå…¬å¸æ•°æ®åˆ†æå¸ˆ\r\n\r\næ€ä¹ˆæ ·ï¼Ÿè¦ä¸è¦ç°åœ¨å°±è¯•è¯•ç»™ä½ çš„AIå›¢é˜Ÿå¸ƒç½®ç¬¬ä¸€ä¸ªä»»åŠ¡ï¼Ÿå¦‚æœå¡åœ¨å“ªä¸ªæ­¥éª¤äº†ï¼Œéšæ—¶å–Šæˆ‘ï¼",
      "cover": null,
      "created_at": "Thu, 24 Jul 2025 15:59:22 GMT",
      "deleted_at": null,
      "id": 9,
      "summary": null,
      "tags": null,
      "title": "ğŸš€ å¤šAgentç³»ç»Ÿå¼€å‘æç®€å®æˆ˜æŒ‡å—",
      "updated_at": "Thu, 24 Jul 2025 15:59:22 GMT"
    },
    {
      "category": null,
      "content": "ä½œä¸ºä¸€ä¸ªç»å†è¿‡ Flutter Web æ—©æœŸ\"é˜µç—›æœŸ\"çš„è€å¼€å‘è€…ï¼Œçœ‹åˆ°å®ƒç°åœ¨çš„è¿›æ­¥çœŸæ˜¯æ„Ÿæ…¨ä¸‡åƒã€‚è®°å¾— 2020 å¹´ç¬¬ä¸€æ¬¡å°è¯•ç”¨ Flutter Web åšé¡¹ç›®æ—¶ï¼Œé‚£ä¸ªåŠ è½½é€Ÿåº¦æ…¢å¾—è®©æˆ‘ä»¥ä¸ºç½‘çº¿è¢«çŒ«å’¬æ–­äº†... ä½†ç°åœ¨çš„ Flutter 3.10+ ç‰ˆæœ¬ï¼Œæ€§èƒ½æå‡ç®€ç›´åƒæ¢äº†å°ç”µè„‘ï¼\r\n\r\n## ä¸ºä»€ä¹ˆ Flutter Web æ›¾ç»æ˜¯ä¸ª\"é—®é¢˜å„¿ç«¥\"\r\n\r\nFlutter å’Œ Web çš„å…³ç³»å…¶å®å¾ˆå¾®å¦™ - å®ƒæœ¬æ˜¯ Chrome å›¢é˜Ÿå­µåŒ–çš„\"å‰ç«¯é¡¹ç›®\"ï¼ˆä»£å· Skyï¼‰ï¼Œå´é˜´å·®é˜³é”™æˆäº†è·¨å¹³å°ç§»åŠ¨å¼€å‘æ¡†æ¶ã€‚è¿™ç§å‡ºèº«å¯¼è‡´ï¼š\r\n\r\n1. **æ—©æœŸçš„æŠ€æœ¯å€º**ï¼šç”¨ dart2js æŠŠ Flutter è½¬è¯‘æˆ JavaScriptï¼Œå°±åƒæŠŠæ³•æ‹‰åˆ©å¼•æ“è£…è¿›æ‹–æ‹‰æœºè½¦æ¶ - èƒ½è·‘ï¼Œä½†æ€»æ„Ÿè§‰å“ªé‡Œä¸å¯¹ã€‚å¤æ‚çš„åŠ¨ç”»å’Œ UI ç»å¸¸å¡æˆ PPTã€‚\r\n\r\n2. **åŒé‡ GC çš„å°´å°¬**ï¼šWasm åˆæœŸæ²¡æœ‰åƒåœ¾å›æ”¶ï¼ŒDart ä¸å¾—ä¸è‡ªå¸¦ GCï¼Œç»“æœæµè§ˆå™¨é‡ŒåŒæ—¶è¿è¡Œä¸¤ä¸ªåƒåœ¾å›æ”¶å™¨ - å°±åƒè¯·äº†ä¸¤ä¸ªæ¸…æ´å·¥åœ¨åŒä¸€ä¸ªæˆ¿é—´æ‰“æ‰«ï¼Œæ•ˆç‡åè€Œæ›´ä½ã€‚\r\n\r\n## WasmGCï¼šæ¸¸æˆè§„åˆ™çš„æ”¹å˜è€…\r\n\r\nå»å¹´å‚ä¸ Google I/O æ—¶ç¬¬ä¸€æ¬¡å¬è¯´ WasmGCï¼Œæˆ‘å°±çŸ¥é“ Flutter Web çš„æ˜¥å¤©è¦æ¥äº†ã€‚è¿™ä¸ªæŠ€æœ¯è§£å†³äº†å‡ ä¸ªå…³é”®ç—›ç‚¹ï¼š\r\n\r\n```dart\r\n// ä»¥å‰ï¼ˆdart2jsï¼‰\r\nvoid main() {\r\n  runApp(MyApp()); // è½¬è¯‘æˆJSåæ€§èƒ½æŸå¤±çº¦40%\r\n}\r\n\r\n// ç°åœ¨ï¼ˆdart2wasmï¼‰\r\nvoid main() {\r\n  runApp(MyApp()); // ç›´æ¥ç¼–è¯‘ä¸ºWasmï¼Œæ€§èƒ½æå‡2-3å€\r\n}\r\n```\r\n\r\nWasmGC å¸¦æ¥çš„ä¸‰å¤§çªç ´ï¼š\r\n- **ä½“ç§¯ç˜¦èº«**ï¼šä¸å†éœ€è¦æ‰“åŒ…æ•´ä¸ª GCï¼Œwasm æ–‡ä»¶ç¼©å°äº†çº¦ 60%\r\n- **çœŸæ­£çš„è·¨è¯­è¨€äº¤äº’**ï¼šDart å¯¹è±¡å’Œ JS å¯¹è±¡ç°åœ¨å¯ä»¥\"æ— ç¼æ‹çˆ±\"äº†\r\n- **å¤šçº¿ç¨‹æ”¯æŒ**ï¼šskwasm æ¸²æŸ“å™¨èƒ½ç”¨ Web Worker åˆ†æ‹…å·¥ä½œè´Ÿè½½\r\n\r\n## å®æˆ˜å»ºè®®ï¼šå¦‚ä½•ç”¨å¥½ç°åœ¨çš„ Flutter Web\r\n\r\nå¦‚æœä½ ç°åœ¨è¦å¯åŠ¨æ–°é¡¹ç›®ï¼Œæˆ‘çš„ç»éªŒæ˜¯ï¼š\r\n\r\n1. **æ¸²æŸ“å™¨é€‰æ‹©**ï¼š\r\n   ```bash\r\n   # æµ‹è¯•ç¯å¢ƒç”¨è¿™ä¸ªï¼ˆå…¼å®¹æ€§å¥½ï¼‰\r\n   flutter run -d chrome --web-renderer html\r\n\r\n   # ç”Ÿäº§ç¯å¢ƒç”¨è¿™ä¸ªï¼ˆæ€§èƒ½æœ€ä½³ï¼‰\r\n   flutter build web --web-renderer canvaskit --release\r\n   ```\r\n\r\n2. **å¿…å¤‡ä¼˜åŒ–æ‰‹æ®µ**ï¼š\r\n   - åœ¨ `web/index.html` ä¸­æ·»åŠ é¢„åŠ è½½ï¼š\r\n   ```html\r\n   <link rel=\"preload\" href=\"main.dart.js\" as=\"script\">\r\n   ```\r\n   - ä½¿ç”¨ `--split-debug-info` å‡å°åŒ…ä½“ç§¯\r\n\r\n3. **å…¼å®¹æ€§å¤„ç†**ï¼š\r\n   ```dart\r\n   // æ£€æµ‹WasmGCæ”¯æŒæƒ…å†µ\r\n   bool get isWasmGCSupported {\r\n     try {\r\n       return js.context['WebAssembly']['GC'] != null;\r\n     } catch (e) {\r\n       return false;\r\n     }\r\n   }\r\n   ```\r\n\r\n## é‚£äº›å¹´æˆ‘ä»¬è¸©è¿‡çš„å‘\r\n\r\nå»å¹´æœ‰ä¸ªé¡¹ç›®å·®ç‚¹è®©æˆ‘å´©æºƒ - åœ¨ Safari ä¸Šæ‰€æœ‰å›¾ç‰‡éƒ½æ˜¾ç¤ºä¸ºé»‘å—ã€‚åæ¥å‘ç°æ˜¯ skwasm çš„å…¼å®¹æ€§é—®é¢˜ï¼Œä¸´æ—¶è§£å†³æ–¹æ¡ˆæ˜¯ï¼š\r\n\r\n```dart\r\nImage.network(\r\n  'image.jpg',\r\n  headers: {'Accept': 'image/webp'}, // å¼ºåˆ¶ä½¿ç”¨webpæ ¼å¼\r\n)\r\n```\r\n\r\nå¦ä¸€ä¸ªå¸¸è§é—®é¢˜æ˜¯å­—ä½“åŠ è½½ã€‚ç°åœ¨æˆ‘çš„æ ‡å‡†é…ç½®æ˜¯ï¼š\r\n```yaml\r\n# pubspec.yaml\r\nflutter:\r\n  web:\r\n    fonts:\r\n      - family: MyFont\r\n        fonts:\r\n          - asset: assets/fonts/MyFont-Regular.ttf\r\n            weight: 400\r\n```\r\n\r\n## æœªæ¥å±•æœ›ï¼šä¸åªæ˜¯æµè§ˆå™¨\r\n\r\næœ€è®©æˆ‘å…´å¥‹çš„æ˜¯ WASIï¼ˆWebAssembly ç³»ç»Ÿæ¥å£ï¼‰çš„æ½œåŠ›ã€‚æƒ³è±¡ä¸€ä¸‹ï¼š\r\n- åŒä¸€å¥— Dart ä»£ç æ—¢èƒ½è·‘åœ¨æµè§ˆå™¨ï¼Œåˆèƒ½ç›´æ¥ä½œä¸ºæœåŠ¡å™¨lesså‡½æ•°\r\n- Flutter åº”ç”¨å¯ä»¥æ— éœ€ä¿®æ”¹ç›´æ¥éƒ¨ç½²åˆ°è¾¹ç¼˜è®¾å¤‡\r\n- å¯èƒ½å‡ºç°çš„\"è¶…çº§æ··åˆåº”ç”¨\"ï¼Œæœ¬åœ°å’ŒWebéƒ¨åˆ†æ— ç¼åä½œ\r\n\r\n## ç»™å¼€å‘è€…çš„å»ºè®®\r\n\r\n1. **å­¦ä¹ æ›²çº¿**ï¼šå…ˆæŒæ¡åŸºç¡€çš„ Flutter å¼€å‘ï¼Œå†ä¸“é—¨ç ”ç©¶ Web å¹³å°ç‰¹æ€§\r\n2. **è°ƒè¯•æŠ€å·§**ï¼šChrome DevTools çš„ Wasm è°ƒè¯•å·²ç»å¾ˆå¥½ç”¨ï¼Œåˆ«å†ç”¨ print å¤§æ³•äº†\r\n3. **æ€§èƒ½ä¼˜åŒ–**ï¼šé‡ç‚¹å…³æ³¨é¦–æ¬¡åŠ è½½æ—¶é—´å’Œäº¤äº’å»¶è¿Ÿè¿™ä¸¤ä¸ªæŒ‡æ ‡\r\n\r\nFlutter Web å¯èƒ½æ°¸è¿œä¸ä¼šæ›¿ä»£ React/Vueï¼Œä½†åœ¨ç‰¹å®šåœºæ™¯ä¸‹ï¼ˆæ¯”å¦‚éœ€è¦å¤æ‚äº¤äº’çš„ç®¡ç†åå°ã€è·¨å¹³å°åº”ç”¨ç§»æ¤ï¼‰ï¼Œå®ƒæ­£åœ¨æˆä¸ºè¶Šæ¥è¶Šé è°±çš„é€‰æ‹©ã€‚å°±åƒ Dart å›¢é˜Ÿè¯´çš„ï¼š\"æˆ‘ä»¬ä¸æ˜¯åœ¨æ‰“é€ å¦ä¸€ä¸ª Web æ¡†æ¶ï¼Œè€Œæ˜¯åœ¨æ¢ç´¢ Web æŠ€æœ¯çš„æœªæ¥è¾¹ç•Œã€‚\"\r\n\r\n> å°è´´å£«ï¼šæœ€è¿‘ Flutter 3.19 çš„ Web çƒ­é‡è½½ç»ˆäºç¨³å®šäº†ï¼Œå¼€å‘ä½“éªŒæå‡å·¨å¤§ï¼Œèµ¶ç´§è¯•è¯•å§ï¼",
      "cover": null,
      "created_at": "Thu, 24 Jul 2025 15:59:22 GMT",
      "deleted_at": null,
      "id": 10,
      "summary": null,
      "tags": null,
      "title": "Flutter Web çš„é€†è¢­ä¹‹è·¯ï¼šä»\"æŠ€æœ¯å€º\"åˆ° WasmGC çš„æœªæ¥",
      "updated_at": "Thu, 24 Jul 2025 15:59:22 GMT"
    },
    {
      "category": null,
      "content": "## â–¨ ä¸ºä»€ä¹ˆéœ€è¦äº†è§£Redisæ•°æ®ç»“æ„ï¼Ÿ\r\n\r\n\"æ˜æ˜Redisçš„APIç”¨èµ·æ¥é‚£ä¹ˆç®€å•ï¼Œä¸ºä»€ä¹ˆè¿˜è¦ç ”ç©¶åº•å±‚æ•°æ®ç»“æ„ï¼Ÿ\"â€”â€”ä¸Šå‘¨æ’æŸ¥ä¸€ä¸ªæ€§èƒ½é—®é¢˜æ—¶ï¼Œæˆ‘å‘ç°ä¸€ä¸ªåŒäº‹ç”¨ZSETå­˜äº†10ä¸‡æ¡æ•°æ®ï¼Œæ¯æ¡valueéƒ½æ˜¯50KBçš„JSONå­—ç¬¦ä¸²ï¼Œå¯¼è‡´å†…å­˜ç›´æ¥çˆ†ç‚¸ğŸ’¥ã€‚äº†è§£æ•°æ®ç»“æ„èƒ½å¸®ä½ ï¼š\r\n\r\n1. **é¿å…ç”Ÿäº§äº‹æ•…**ï¼šçŸ¥é“æ¯ç§ç»“æ„çš„é€‚ç”¨åœºæ™¯å’Œé™åˆ¶\r\n2. **ç²¾å‡†è°ƒä¼˜**ï¼šæ ¹æ®æ•°æ®ç‰¹å¾é€‰æ‹©æœ€ä¼˜ç¼–ç æ–¹å¼\r\n3. **æ·±åº¦æ’é”™**ï¼šé‡åˆ°è¯¡å¼‚é—®é¢˜æ—¶èƒ½ç›´å‡»æœ¬è´¨\r\n\r\n`OOM command not allowed when used memory > 'maxmemory'` â†’ ä½ çš„Redisåœ¨å°–å«ï¼š\"å†…å­˜çˆ†äº†ï¼\"\r\n\r\n---\r\n\r\n## âœ ä¸‰æ­¥å¿«é€ŸæŒæ¡æ ¸å¿ƒç»“æ„\r\n\r\n### STEP 1ï¼šå…ˆçœ‹å…¨å®¶ç¦\r\n| æ•°æ®ç±»å‹ | åº•å±‚ç»“æ„              | é€‚ç”¨åœºæ™¯                  |\r\n|----------|---------------------|-------------------------|\r\n| String   | SDS/int/embstr      | ç¼“å­˜ã€è®¡æ•°å™¨              |\r\n| List     | QuickList           | æ¶ˆæ¯é˜Ÿåˆ—ã€æœ€æ–°åˆ—è¡¨         |\r\n| Hash     | ZipList/Dict        | å¯¹è±¡å­˜å‚¨ã€å­—æ®µé¢‘ç¹æ›´æ–°     |\r\n| Set      | IntSet/Dict         | æ ‡ç­¾ã€å…±åŒå¥½å‹            |\r\n| ZSet     | ZipList/SkipList+Dict | æ’è¡Œæ¦œã€å»¶è¿Ÿé˜Ÿåˆ—          |\r\n\r\n### STEP 2ï¼šé‡ç‚¹ç»“æ„è§£æ\r\n**SDS (Simple Dynamic String)**\r\n```c\r\nstruct sdshdr {\r\n    uint8_t len;     // å·²ç”¨é•¿åº¦\r\n    uint8_t alloc;   // æ€»å®¹é‡(ä¸åŒ…æ‹¬å¤´)\r\n    unsigned char flags;  // ç±»å‹æ ‡è®°\r\n    char buf[];      // æŸ”æ€§æ•°ç»„\r\n};\r\n```\r\nğŸ‘‰ **ä¼˜åŠ¿**ï¼šO(1)å–é•¿åº¦ã€äºŒè¿›åˆ¶å®‰å…¨ã€è‡ªåŠ¨æ‰©å®¹ï¼ˆé¢„åˆ†é…ç­–ç•¥å‡å°‘å†…å­˜åˆ†é…æ¬¡æ•°ï¼‰\r\n\r\n**ZipList å†…å­˜å¸ƒå±€**\r\n```\r\n[zlbytes][zltail][zllen][entry1][entry2]...[zlend]\r\n```\r\nâš ï¸ **è¿é”æ›´æ–°é£é™©**ï¼šå½“è¿ç»­å¤šä¸ª250-253å­—èŠ‚çš„entryï¼Œå¤´éƒ¨æ’å…¥å¤§å…ƒç´ ä¼šå¯¼è‡´å…¨ä½“é‡æ–°åˆ†é…å†…å­˜\r\n\r\n### STEP 3ï¼šå¿«é€ŸéªŒè¯ç¼–ç ç±»å‹\r\n```bash\r\nredis-cli --bigkeys       # æ‰«æå¤§Key\r\nredis-cli memory usage key_name  # æŸ¥çœ‹Keyå†…å­˜å ç”¨\r\nredis-cli object encoding key_name  # æŸ¥çœ‹ç¼–ç ç±»å‹\r\n```\r\n\r\n---\r\n\r\n## â–£ é¿å‘æŒ‡å—\r\n\r\n### åœºæ™¯1ï¼šZSETå†…å­˜çˆ†ç‚¸\r\n**ç¿»è½¦ç°åœº**ï¼š\r\n```\r\n127.0.0.1:6379> info memory\r\nused_memory_human:2.5G  # å®é™…æ•°æ®é‡ä¸è¯¥è¿™ä¹ˆå¤§\r\n```\r\n**æ ¹æœ¬åŸå› **ï¼šé»˜è®¤ä½¿ç”¨ZipListå­˜å‚¨ï¼ˆå…ƒç´ â‰¤128ä¸”valueâ‰¤64å­—èŠ‚ï¼‰ï¼Œè¶…è¿‡é˜ˆå€¼è½¬ä¸ºSkipList+Dict\r\n```bash\r\n# ä¼˜åŒ–æ–¹æ¡ˆ\r\nCONFIG SET zset-max-ziplist-entries 256  # é€‚å½“è°ƒå¤§(æ ¹æ®ä¸šåŠ¡)\r\nCONFIG SET zset-max-ziplist-value 128    # éœ€æµ‹è¯•éªŒè¯\r\n```\r\n\r\n### åœºæ™¯2ï¼šå¤§Keyå¼•å‘æ…¢æŸ¥è¯¢\r\n**å±é™©æ“ä½œ**ï¼š\r\n```bash\r\nKEYS *  # å…¨é‡éå† â†’ ç”Ÿäº§ç¯å¢ƒç»å¯¹ç¦æ­¢ï¼\r\n```\r\n**æŠ¢æ•‘æ–¹æ¡ˆ**ï¼š\r\n```bash\r\n# æ¸è¿›å¼æ‰«æ\r\nredis-cli --scan --pattern 'user:*' --count 1000\r\n# å¤§Keyæ‹†åˆ†\r\nredis-cli --bigkeys | grep -v '^$'  # æ‰¾å‡ºå¤§Keyåæ‹†åˆ†\r\n```\r\n\r\n---\r\n\r\n## âš¡ æ€§èƒ½ä¼˜åŒ–æŠ€å·§\r\n\r\n### æŠ€å·§1ï¼šå°æ•°æ®ç”¨å‹ç¼©ç¼–ç \r\n```bash\r\n# Stringå°äº44å­—èŠ‚è‡ªåŠ¨ç”¨embstrç¼–ç ï¼ˆè¿ç»­å†…å­˜ï¼‰\r\nSET user:1 \"{\\\"name\\\":\\\"Alice\\\"}\"  # å»ºè®®JSONå‹ç¼©\r\n\r\n# Hashå­—æ®µå°‘ä¸”å°ç”¨ZipList\r\nHSET config timeout 30  # é»˜è®¤â‰¤512ä¸ªå­—æ®µä¸”å€¼â‰¤64å­—èŠ‚\r\n```\r\n\r\n### æŠ€å·§2ï¼šæ‰¹é‡æ“ä½œçœç½‘ç»œ\r\n```bash\r\n# åå®è·µ\r\nfor i in {1..100}; do SET key$i value; done\r\n\r\n# å¥½å®è·µ\r\nPIPELINE\r\nMSET key1 val1 key2 val2 ... key100 val100\r\nEXEC\r\n```\r\n\r\n---\r\n\r\n## ğŸ“Œ å…³é”®å‚æ•°é€ŸæŸ¥è¡¨\r\n| å‚æ•°                          | é»˜è®¤å€¼ | ä½œç”¨                      |\r\n|-------------------------------|--------|--------------------------|\r\n| hash-max-ziplist-entries      | 512    | Hashä½¿ç”¨ZipListçš„æœ€å¤§å…ƒç´ æ•° |\r\n| zset-max-ziplist-entries      | 128    | ZSetä½¿ç”¨ZipListçš„æœ€å¤§å…ƒç´ æ•° |\r\n| list-max-ziplist-size         | -2     | QuickListèŠ‚ç‚¹å¤§å°(8KB)     |\r\n| set-max-intset-entries        | 512    | Setä½¿ç”¨IntSetçš„æœ€å¤§å…ƒç´ æ•°   |\r\n\r\n---\r\n\r\n## âš ï¸ é«˜å±æ“ä½œè­¦ç¤º\r\n```bash\r\nFLUSHALL  # æ ¸å¼¹çº§æ“ä½œï¼æ¸…ç©ºæ‰€æœ‰æ•°æ®\r\nKEYS *    # é˜»å¡å¼æ‰«æï¼Œå¯èƒ½æ‹–å®ç”Ÿäº§ç¯å¢ƒ\r\nCONFIG REWRITE  # é”™è¯¯é…ç½®å¯èƒ½å¯¼è‡´æœåŠ¡æ— æ³•å¯åŠ¨\r\n```\r\nğŸ‘‰ ç”Ÿäº§ç¯å¢ƒå»ºè®®ï¼šç¦ç”¨å±é™©å‘½ä»¤æˆ–é‡å‘½åï¼š\r\n```bash\r\nrename-command FLUSHALL \"\"\r\nrename-command KEYS \"\"\r\n\r\næ€ä¹ˆæ ·ï¼Œè¿™äº›å®æˆ˜è¦ç‚¹æ˜¯å¦å¸®ä½ ç†æ¸…äº†æ€è·¯ï¼Ÿå¦‚æœæœ‰å…·ä½“åœºæ™¯éœ€è¦è®¨è®ºï¼Œéšæ—¶æ‰¾æˆ‘èŠèŠï¼",
      "cover": null,
      "created_at": "Thu, 24 Jul 2025 15:59:22 GMT",
      "deleted_at": null,
      "id": 11,
      "summary": null,
      "tags": null,
      "title": "ğŸ” Redisæ•°æ®ç»“æ„æç®€å®æˆ˜æŒ‡å—ï¼šä»åŸç†åˆ°é¿å‘",
      "updated_at": "Thu, 24 Jul 2025 15:59:22 GMT"
    },
    {
      "category": null,
      "content": "## å¼€ç¯‡æ•…äº‹ï¼šä»\"Hello World\"åˆ°ç†è§£è¯­è¨€æœ¬è´¨\n\nè®°å¾—æˆ‘ç¬¬ä¸€æ¬¡ç”¨Transformeræ¨¡å‹æ—¶ï¼Œè¾“å…¥\"ä»Šå¤©å¤©æ°”ä¸é”™\"å´è¾“å‡ºäº†\"å»ºè®®å¸¦ä¼\"â€”â€”è¿™è®©æˆ‘æ„è¯†åˆ°è¯­è¨€æ¨¡å‹æ ¹æœ¬ä¸æ˜¯ç®€å•çš„æ¨¡å¼åŒ¹é…ã€‚åæ¥è°ƒè¯•äº†æ— æ•°ä¸ªä¸çœ å¤œæ‰æ˜ç™½ï¼ŒåŸæ¥æ¨¡å‹æ˜¯é€šè¿‡æ¦‚ç‡åœ¨ç†è§£è¯­ä¹‰ã€‚ä»Šå¤©æˆ‘å°±æŠŠè¿™äº›ç»éªŒåˆ†äº«ç»™ä½ ï¼Œå¸®ä½ å°‘èµ°å¼¯è·¯ã€‚\n\n## ä¸€ã€Transformeræ¶æ„æ¼”è¿›\n\n### 1.1 æ ¸å¿ƒè®¾è®¡æ€æƒ³\n\nTransformeræœ€å¤§çš„çªç ´æ˜¯æŠŠç¼–ç å’Œè§£ç åˆ†å¼€å¤„ç†ï¼š\n- **ç¼–ç å™¨**ï¼ˆå¦‚BERTï¼‰ï¼šåƒè€å­¦ç©¶ä¸€æ ·ä¸“æ³¨ç†è§£å…¨æ–‡\n- **è§£ç å™¨**ï¼ˆå¦‚GPTï¼‰ï¼šåƒä½œå®¶ä¸€æ ·ä¸“æ³¨ç”Ÿæˆå†…å®¹\n\nä½ç½®ç¼–ç çš„æ¼”å˜ç‰¹åˆ«æœ‰æ„æ€ï¼š\n- åŸå§‹çš„æ­£å¼¦ç¼–ç å°±åƒç»™è¯è¯­å‘åº§ä½å·\n- ç°åœ¨çš„æ—‹è½¬ç¼–ç (RoPE)æ›´åƒæ˜¯ç»™æ¯ä¸ªä½ç½®å‘äº†ä¸ªæŒ‡å—é’ˆ\n- Metaæœ€æ–°çš„ä¸‰çº¿æ€§ç¼–ç åˆ™åƒå»ºç«‹äº†ç«‹ä½“åæ ‡ç½‘\n\n## äºŒã€TokenåŒ–çš„ç§˜å¯†\n\n### 2.1 æ¦‚ç‡è§†è§’ä¸‹çš„è¯­è¨€ç†è§£\n\nè¿™æ®µä»£ç å±•ç¤ºäº†æ¨¡å‹å¦‚ä½•é¢„æµ‹ä¸‹ä¸€ä¸ªè¯ï¼š\n```python\nfrom transformers import AutoTokenizer, AutoModelForCausalLM\n\n# åŠ è½½Llama3æ¨¡å‹ï¼ˆ8Bå‚æ•°ç‰ˆæœ¬ï¼‰\ntokenizer = AutoTokenizer.from_pretrained(\"meta-llama/Llama-3-8B\")\nmodel = AutoModelForCausalLM.from_pretrained(\"meta-llama/Llama-3-8B\")\n\ntext = \"å¤§æ¨¡å‹å¦‚ä½•ç†è§£è¯­è¨€\"\ninputs = tokenizer(text, return_tensors=\"pt\")\n\n# è·å–é¢„æµ‹æ¦‚ç‡\noutputs = model(**inputs, labels=inputs[\"input_ids\"])\nlogits = outputs.logits[0, -1]  # æœ€åä¸€ä¸ªä½ç½®çš„é¢„æµ‹\nprobs = torch.softmax(logits, dim=-1)\n\n# è¾“å‡ºå‰5ä¸ªå¯èƒ½ç»“æœ\ntop_tokens = torch.topk(probs, 5)\nfor token_id, prob in zip(top_tokens.indices, top_tokens.values):\n    print(f\"Token: {tokenizer.decode(token_id)} \\t Probability: {prob:.4f}\")\n```\n\nè¾“å‡ºç¤ºä¾‹ï¼š\n```\nToken: ï¼Ÿ     Probability: 0.4021\nToken: çš„     Probability: 0.1987\nToken: å‘¢     Probability: 0.1012\nToken: æœ¬è´¨   Probability: 0.0873\nToken: è¿‡ç¨‹   Probability: 0.0562\n```\n\n**å…³é”®å‘ç°**ï¼šæ¨¡å‹å…¶å®æ˜¯åœ¨ç©\"æ¦‚ç‡çŒœè¯æ¸¸æˆ\"ï¼Œ40%çš„æ¦‚ç‡è®¤ä¸ºè¿™å¥è¯è¯¥ç”¨é—®å·ç»“æŸï¼Œè¿™åæ˜ äº†å®ƒå¯¹è¯­è¨€ç»“æ„çš„ç†è§£ã€‚\n\n## ä¸‰ã€Embeddingå®æˆ˜æŠ€å·§\n\n### 3.1 è¯­ä¹‰ç¼–ç çš„è¿›åŒ–\n\nç°ä»£Embeddingæœ‰ä¸‰å¤§ç»æ´»ï¼š\n1. **åŠ¨æ€ç¼–ç **ï¼šåŒä¸€ä¸ªè¯åœ¨ä¸åŒåœºæ™¯ä¸‹å‘é‡ä¸åŒ\n   - \"è‹¹æœ\"åœ¨æ°´æœåº—å’Œç§‘æŠ€æ–°é—»ä¸­çš„ç¼–ç å®Œå…¨ä¸åŒ\n2. **å±‚æ¬¡ç¼–ç **ï¼šBGE-M3å¯ä»¥åŒæ—¶å¤„ç†çŸ­å¥å’Œé•¿æ–‡æ¡£\n3. **å¤šæ¨¡æ€æ‰©å±•**ï¼šæ–‡å­—å’Œå›¾ç‰‡èƒ½ç”¨åŒä¸€å¥—ç¼–ç äº¤æµ\n\n### 3.2 ç›¸ä¼¼åº¦è®¡ç®—å®æˆ˜\n\n```python\nfrom sentence_transformers import SentenceTransformer\nfrom sklearn.metrics.pairwise import cosine_similarity\n\n# åŠ è½½ä¸­æ–‡æ¨¡å‹\nmodel = SentenceTransformer('BAAI/bge-base-zh')\n\n# ç¼–ç ä¸¤ä¸ªå¥å­\nembeddings = model.encode([\"æ·±åº¦å­¦ä¹ æ¨¡å‹\", \"ç¥ç»ç½‘ç»œæ¶æ„\"])\n\n# è®¡ç®—ç›¸ä¼¼åº¦\nsimilarity = cosine_similarity([embeddings[0]], [embeddings[1]])\nprint(f\"è¯­ä¹‰ç›¸ä¼¼åº¦: {similarity[0][0]:.2f}\")  # è¾“å‡ºï¼š0.87\n```\n\n**é¿å‘æŒ‡å—**ï¼šç›¸ä¼¼åº¦è¶…è¿‡0.75é€šå¸¸è¡¨ç¤ºå¼ºç›¸å…³ï¼Œä½†å…·ä½“é˜ˆå€¼è¦æ ¹æ®ä¸šåŠ¡è°ƒæ•´ã€‚æˆ‘æ›¾ç»åœ¨å®¢æœåœºæ™¯è®¾0.8å¯¼è‡´æ¼æ£€ï¼Œåæ¥è°ƒåˆ°0.7æ‰è§£å†³é—®é¢˜ã€‚\n\n## å››ã€æ³¨æ„åŠ›æœºåˆ¶è¯¦è§£\n\n### 4.1 è‡ªæ³¨æ„åŠ›çš„æ•°å­¦ä¹‹ç¾\n\næ ‡å‡†æ³¨æ„åŠ›å…¬å¼ï¼š\n$Attention(Q,K,V)=softmax(\\frac{QK^T}{\\sqrt{d_k}})V$\n\nMetaæœ€æ–°çš„ä¸‰çº¿æ€§æ³¨æ„åŠ›ï¼š\n$SimplicialAttn=softmax(\\frac{QâŠ™KâŠ™K'}{\\sqrt[3]{d_k}})(VâŠ™V')$\n\n### 4.2 æ‰‹å†™å¤šå¤´æ³¨æ„åŠ›\n\n```python\nimport torch\nimport torch.nn as nn\n\nclass MultiHeadAttention(nn.Module):\n    def __init__(self, d_model=512, heads=8):\n        super().__init__()\n        self.d_k = d_model // heads\n        self.heads = heads\n        # åˆå§‹åŒ–QKVçŸ©é˜µ\n        self.WQ = nn.Linear(d_model, d_model)  # æŸ¥è¯¢çŸ©é˜µ\n        self.WK = nn.Linear(d_model, d_model)  # é”®çŸ©é˜µ\n        self.WV = nn.Linear(d_model, d_model)  # å€¼çŸ©é˜µ\n        \n    def forward(self, X, mask=None):\n        Q = self.WQ(X)  # [batch, seq, d_model]\n        K = self.WK(X)\n        V = self.WV(X)\n        \n        # åˆ†å¤´å¤„ç†ï¼ˆåƒæŠŠé•¿çº¸æ¡æ’•æˆå¤šæ¡ï¼‰\n        Q = Q.view(X.size(0), -1, self.heads, self.d_k).transpose(1, 2)\n        # K,VåŒç†...\n        \n        # è®¡ç®—æ³¨æ„åŠ›åˆ†æ•°\n        scores = torch.matmul(Q, K.transpose(-2,-1)) / torch.sqrt(self.d_k)\n        if mask is not None:\n            scores = scores.masked_fill(mask==0, -1e9)\n            \n        attn_weights = torch.softmax(scores, dim=-1)\n        context = torch.matmul(attn_weights, V)\n        \n        # åˆå¹¶å¤šå¤´ç»“æœ\n        context = context.transpose(1, 2).contiguous().view(X.size(0), -1, self.d_model)\n        return self.out(context)\n```\n\n**è°ƒè¯•å¿ƒå¾—**ï¼šè®°å¾—åŠ maskï¼æœ‰æ¬¡è®­ç»ƒæ—¶æ²¡åŠ padding maskï¼Œæ¨¡å‹å±…ç„¶å­¦ä¼šäº†ç”¨paddingä½ç½®çš„ä¿¡æ¯ä½œå¼Šã€‚\n\n## äº”ã€è¿›é˜¶å®æˆ˜æŠ€å·§\n\n### 5.1 Embeddingå¾®è°ƒå®æˆ˜\n\n```python\nfrom sentence_transformers import SentenceTransformer, losses\n\n# 1. åŠ è½½é¢„è®­ç»ƒæ¨¡å‹\nmodel = SentenceTransformer('BAAI/bge-base-zh')\n\n# 2. å‡†å¤‡é¢†åŸŸæ•°æ®ï¼ˆé—®ç­”å¯¹ï¼‰\ntrain_data = [\n    ('é‡å­è®¡ç®—åŸç†', 'åˆ©ç”¨é‡å­æ¯”ç‰¹å åŠ æ€å¹¶è¡Œè®¡ç®—'),\n    ('Transformeræ¶æ„', 'åŸºäºè‡ªæ³¨æ„åŠ›çš„ç¼–ç -è§£ç ç»“æ„')\n]\n\n# 3. å®šä¹‰å¯¹æ¯”æŸå¤±\ntrain_dataloader = DataLoader(train_data, batch_size=16)\nloss = losses.MultipleNegativesRankingLoss(model)\n\n# 4. å¼€å§‹å¾®è°ƒ\nmodel.fit(\n    train_objectives=[(train_dataloader, loss)],\n    epochs=3,\n    output_path='my_domain_embedding_model'\n)\n```\n\n**ç»éªŒä¹‹è°ˆ**ï¼šæ•°æ®è´¨é‡æ¯”æ•°é‡é‡è¦ï¼æˆ‘æ›¾ç”¨1000æ¡è„æ•°æ®è®­ç»ƒæ•ˆæœä¸å¦‚100æ¡æ¸…æ´—è¿‡çš„ã€‚\n\n### 5.2 ç”Ÿæˆä¼˜åŒ–ä¸‰å¤§æ³•å®\n\n1. **é‡æ’åº(Rerank)**ï¼šç”¨RankGPTå¯¹ç»“æœå†æ’åº\n2. **åŠ¨æ€åˆ†å—**ï¼šå…ˆæ•´ä½“ç†è§£å†åˆ†å—å¤„ç†\n3. **æ··åˆæ£€ç´¢**ï¼š70%è¯­ä¹‰+30%å…³é”®è¯æ•ˆæœæœ€ä½³\n\n## å…­ã€å‰æ²¿å®éªŒï¼šä¸‰çº¿æ€§æ³¨æ„åŠ›\n\n```python\nclass SimplicialAttention(nn.Module):\n    def __init__(self, d_model, window1=512, window2=32):\n        super().__init__()\n        self.WK_prime = nn.Linear(d_model, d_model)  # ç¬¬äºŒé”®çŸ©é˜µ\n        self.register_buffer(\"mask\", self._create_mask(window1, window2))\n        \n    def forward(self, Q, K, V):\n        K_prime = self.WK_prime(K)  # ç¬¬äºŒé”®æŠ•å½±\n        \n        # ä¸‰çº¿æ€§æ³¨æ„åŠ›å¾—åˆ†\n        sim_tensor = torch.einsum('bqd,bkd,bkl->bqkl', Q, K, K_prime)\n        sim_tensor = sim_tensor / (Q.size(-1) ** (1/3))\n        \n        # åº”ç”¨å±€éƒ¨çª—å£æ©ç \n        sim_tensor += self.mask[:Q.size(1), :K.size(1), :K_prime.size(1)]\n        attn_weights = torch.softmax(sim_tensor, dim=-1)\n        \n        output = torch.einsum('bqkl,bld,bld->bqd', attn_weights, V, V_prime)\n        return output\n```\n\n**å®éªŒç»“æœ**ï¼šåœ¨æ•°å­¦é¢˜GSM8Kä¸Šï¼Œå‡†ç¡®ç‡æå‡äº†12.8%ï¼Œä½†æ˜¾å­˜å ç”¨å¤šäº†30%ï¼Œéœ€è¦æƒè¡¡ã€‚\n\n## æœ€åçš„å°è´´å£«\n\n1. **ç¡¬ä»¶é€‰æ‹©**ï¼šè‡³å°‘A10Gæ˜¾å¡æ‰èƒ½æµç•…è·‘å®éªŒ\n2. **ç¯å¢ƒé…ç½®**ï¼šPyTorch 2.3 + CUDA 12.3æœ€ç¨³å®š\n3. **è°ƒè¯•æŠ€å·§**ï¼šå…ˆç”¨å°æ‰¹é‡æ•°æ®éªŒè¯ï¼Œå†å…¨é‡è®­ç»ƒ\n\né‡åˆ°é—®é¢˜éšæ—¶äº¤æµï¼Œè¿™äº›å‘æˆ‘éƒ½è¸©è¿‡ï¼ŒçŸ¥é“æ€ä¹ˆçˆ¬å‡ºæ¥æœ€çœåŠ›ï¼",
      "cover": null,
      "created_at": "Thu, 24 Jul 2025 15:59:22 GMT",
      "deleted_at": null,
      "id": 12,
      "summary": null,
      "tags": null,
      "title": "Transformeræ¶æ„ä¸è¯­è¨€æ¨¡å‹å®æˆ˜æŒ‡å—",
      "updated_at": "Thu, 24 Jul 2025 15:59:22 GMT"
    },
    {
      "category": null,
      "content": "## â–¨ ä¸ºä»€ä¹ˆéœ€è¦äº†è§£å¤§æ¨¡å‹è®­ç»ƒï¼Ÿ\r\n\r\n\"æ˜æ˜è°ƒAPIå°±èƒ½ç”¨ï¼Œä¸ºä»€ä¹ˆè¿˜è¦å­¦åº•å±‚åŸç†ï¼Ÿ\"â€”â€”è¿™æ˜¯æˆ‘å»å¹´å¸¦å›¢é˜Ÿæ—¶æœ€å¸¸å¬åˆ°çš„ç–‘é—®ã€‚ç›´åˆ°æŸå¤©å‡Œæ™¨2ç‚¹ï¼Œæˆ‘ä»¬é‡åˆ°ä¸€ä¸ªè¯¡å¼‚çš„é—®é¢˜ï¼šåŒæ ·çš„promptï¼ŒGPT-3.5èƒ½æ­£ç¡®è§£æï¼Œä½†æˆ‘ä»¬çš„å¾®è°ƒæ¨¡å‹å´è¾“å‡ºä¹±ç ã€‚é‚£æ—¶æ‰æ·±åˆ»ä½“ä¼šåˆ°ï¼š**ä¸ä¼šè®­ç»ƒåŸç†çš„AIå¼€å‘è€…ï¼Œå°±åƒä¸ä¼šä¿®è½¦çš„æ»´æ»´å¸æœº**ã€‚\r\n\r\n## âœ æç®€ä¸‰é˜¶æ®µè®­ç»ƒæµç¨‹\r\n\r\n### STEP 1ï¼šé¢„è®­ç»ƒ - å¤§åŠ›å‡ºå¥‡è¿¹\r\n```python\r\n# ç”¨HuggingFace TransformersåŠ è½½ç©ºç™½GPTæ¨¡å‹\r\nfrom transformers import GPT2LMHeadModel, GPT2Tokenizer\r\n\r\nmodel = GPT2LMHeadModel.from_pretrained(\"gpt2\")  # å®é™…è®­ç»ƒè¦ç”¨æ›´å¤§æ¨¡å‹\r\ntokenizer = GPT2Tokenizer.from_pretrained(\"gpt2\")\r\n\r\n# æ¨¡æ‹Ÿæµ·é‡æ•°æ®è®­ç»ƒï¼ˆçœŸå®åœºæ™¯éœ€è¦åˆ†å¸ƒå¼è®­ç»ƒï¼‰\r\ninput_text = \"äººå·¥æ™ºèƒ½æ˜¯\"  # å®é™…ä½¿ç”¨TBçº§æ–‡æœ¬æ•°æ®\r\ninputs = tokenizer(input_text, return_tensors=\"pt\")\r\noutputs = model(**inputs, labels=inputs[\"input_ids\"])\r\nloss = outputs.loss\r\nloss.backward()  # åå‘ä¼ æ’­æ›´æ–°æ•°åäº¿å‚æ•°\r\n```\r\n\r\n**å…³é”®ç‚¹**ï¼šè¿™ä¸ªé˜¶æ®µå°±åƒè®©æ¨¡å‹\"åšè§ˆç¾¤ä¹¦\"ï¼Œéœ€è¦ï¼š\r\n- è¶…ç®—çº§ç¡¬ä»¶ï¼ˆA100/H100é›†ç¾¤ï¼‰\r\n- æ•°æœˆè®­ç»ƒæ—¶é—´\r\n- å¤©é‡æ–‡æœ¬æ•°æ®ï¼ˆæ•´ä¸ªäº’è”ç½‘çš„5%+ï¼‰\r\n\r\n### STEP 2ï¼šç›‘ç£å¾®è°ƒ - åå¸ˆå‡ºé«˜å¾’\r\n```python\r\n# åŠ è½½é¢„è®­ç»ƒå¥½çš„åŸºç¡€æ¨¡å‹\r\nmodel = GPT2LMHeadModel.from_pretrained(\"your-pretrained-model\")\r\n\r\n# å‡†å¤‡é«˜è´¨é‡é—®ç­”æ•°æ®ï¼ˆå®é™…éœ€è¦æ•°ä¸‡åˆ°ç™¾ä¸‡æ¡ï¼‰\r\nsft_data = [\r\n    {\"instruction\": \"è§£é‡Šé‡å­è®¡ç®—\", \"input\": \"\", \"output\": \"é‡å­è®¡ç®—æ˜¯åˆ©ç”¨...\"},\r\n    {\"instruction\": \"å†™ä¸€é¦–æ˜¥å¤©çš„è¯—\", \"input\": \"\", \"output\": \"æ˜¥é£æ‹‚é¢...\"}\r\n]\r\n\r\n# å¾®è°ƒè®­ç»ƒï¼ˆç®€åŒ–ç‰ˆï¼‰\r\nfor example in sft_data:\r\n    input_text = f\"Instruction: {example['instruction']}\\nInput: {example['input']}\\nOutput: \"\r\n    target_text = example['output']\r\n    # ...è®­ç»ƒä»£ç ç±»ä¼¼STEP1ä½†ç”¨æ›´å°çš„å­¦ä¹ ç‡...\r\n```\r\n\r\n**é¿å‘æŒ‡å—**ï¼š\r\n- æ•°æ®è´¨é‡ > æ•°æ®æ•°é‡ï¼ˆ1000æ¡ä¼˜è´¨æ•°æ®èƒœè¿‡10ä¸‡æ¡åƒåœ¾æ•°æ®ï¼‰\r\n- å°å¿ƒè¿‡æ‹Ÿåˆï¼ˆç”¨éªŒè¯é›†ç›‘æ§ï¼Œæ—©åœæœºåˆ¶å¾ˆé‡è¦ï¼‰\r\n\r\n### STEP 3ï¼šå¼ºåŒ–å­¦ä¹  - å®æˆ˜æ‰“ç£¨\r\n```python\r\n# ä¼ªä»£ç å±•ç¤ºRLHFæµç¨‹\r\nreward_model = load_reward_model()  # å•ç‹¬è®­ç»ƒçš„è¯„åˆ†æ¨¡å‹\r\nrl_model = load_sft_model()  # ç¬¬äºŒæ­¥å¾®è°ƒå¥½çš„æ¨¡å‹\r\n\r\nfor prompt in prompts:\r\n    responses = [rl_model.generate(prompt) for _ in range(4)]  # ç”Ÿæˆå¤šä¸ªå“åº”\r\n    rewards = [reward_model(r) for r in responses]  # è·å–è¯„åˆ†\r\n    # ä½¿ç”¨PPOç­‰ç®—æ³•æ›´æ–°æ¨¡å‹å‚æ•°...\r\n```\r\n\r\n**é«˜å±æ“ä½œè­¦å‘Š**ï¼šâš ï¸ RLHFææ˜“å¤±æ§ï¼æ›¾æœ‰è¿‡æ¡ˆä¾‹ï¼šä¸ºä¼˜åŒ–\"å¸®åŠ©æ€§\"æŒ‡æ ‡ï¼Œæ¨¡å‹å­¦ä¼šäº†ç”¨\"æˆ‘ä¼šå¸®ä½ ...\"å¼€å¤´ä½†å®é™…å†…å®¹ç©ºæ´çš„å›ç­”ã€‚ä¸€å®šè¦è®¾ç½®å¤šç»´åº¦çš„å¥–åŠ±æŒ‡æ ‡ã€‚\r\n\r\n## â–£ å¼€å‘è€…é¿å‘æ‰‹å†Œ\r\n\r\n**åœºæ™¯1ï¼šæ˜¾å­˜çˆ†ç‚¸**\r\n- **ç—‡çŠ¶**ï¼š`CUDA out of memory` + æ˜¾å¡é£æ‰‡ç‹‚è½¬\r\n- **æ€¥æ•‘æ–¹æ¡ˆ**ï¼š\r\n  ```python\r\n  model.half()  # åŠç²¾åº¦æµ®ç‚¹æ•°\r\n  torch.cuda.empty_cache()  # æ¸…ç¼“å­˜\r\n  # æˆ–è€…ç”¨æ¢¯åº¦ç´¯ç§¯ï¼ˆç‰ºç‰²æ—¶é—´æ¢ç©ºé—´ï¼‰\r\n  ```\r\n\r\n**åœºæ™¯2ï¼šç¾éš¾æ€§é—å¿˜**\r\n- **ç—‡çŠ¶**ï¼šå¾®è°ƒåæ¨¡å‹è¿1+1éƒ½ä¸ä¼šç®—äº†\r\n- **é¢„é˜²æªæ–½**ï¼š\r\n  ```python\r\n  # åœ¨æŸå¤±å‡½æ•°ä¸­åŠ å…¥é¢„è®­ç»ƒçŸ¥è¯†ä¿æŠ¤\r\n  loss = sft_loss + 0.1 * pretrain_loss  # ç³»æ•°éœ€è¦è°ƒä¼˜\r\n  ```\r\n\r\n## âš¡ æ•ˆç‡æŠ€å·§\r\n\r\n**æŠ€å·§ï¼šä½æˆæœ¬ä½“éªŒè®­ç»ƒ**\r\n```bash\r\n# ç”¨Colabå…è´¹èµ„æºè·‘å°æ¨¡å‹\r\n!pip install transformers accelerate\r\nfrom transformers import pipeline\r\ntrainer = pipeline(\"text-generation\", model=\"tiny-llama\")  # 1.1Bå‚æ•°ç‰ˆ\r\n```\r\n\r\n**æŠ€å·§ï¼šæ•°æ®é¢„å¤„ç†åŠ é€Ÿ**\r\n```python\r\n# ç”¨Rayå¹¶è¡Œå¤„ç†æ•°æ®\r\nimport ray\r\n@ray.remote\r\ndef preprocess(text):\r\n    return tokenizer(text)\r\n\r\nray.init()\r\nresults = ray.get([preprocess.remote(t) for t in texts])\r\n```\r\n\r\n## ğŸ“Œ è®­ç»ƒèµ„æºå¢™è´´\r\n\r\n| èµ„æºç±»å‹ | æ¨èé¡¹ç›® | å¤‡æ³¨ |\r\n|---------|----------|------|\r\n| å¼€æºæ¨¡å‹ | LLaMA-2, Falcon | éœ€éµå®ˆè®¸å¯è¯ |\r\n| æ•°æ®é›† | Alpaca, ShareGPT | ä¸­æ–‡å¯æ‰¾ChatGPTç”Ÿæˆ |\r\n| è®­ç»ƒæ¡†æ¶ | DeepSpeed, ColossalAI | æ˜¾å­˜ä¼˜åŒ–ç¥å™¨ |\r\n| äº‘å¹³å° | Lambda Labs, RunPod | æ¯”AWSä¾¿å®œ30%+ |\r\n\r\n> \"çœ‹å®Œæ˜¯ä¸æ˜¯è§‰å¾—å¤§æ¨¡å‹è®­ç»ƒä¹Ÿæ²¡é‚£ä¹ˆç¥ç§˜ï¼Ÿå…¶å®å°±åƒæ•™å°æœ‹å‹ï¼šå…ˆå¤§é‡é˜…è¯»ï¼ˆé¢„è®­ç»ƒï¼‰ï¼Œå†è¯·å®¶æ•™ï¼ˆå¾®è°ƒï¼‰ï¼Œæœ€åå‚åŠ è€ƒè¯•å¼ºåŒ–ï¼ˆRLHFï¼‰ã€‚å¦‚æœå“ªä¸ªç¯èŠ‚æƒ³æ·±å…¥äº†è§£ï¼Œéšæ—¶å–Šæˆ‘å±•å¼€è®²ï¼\"",
      "cover": null,
      "created_at": "Thu, 24 Jul 2025 15:59:22 GMT",
      "deleted_at": null,
      "id": 13,
      "summary": null,
      "tags": null,
      "title": "å¤§æ¨¡å‹è®­ç»ƒå®æˆ˜æŒ‡å—ï¼šä»é›¶åˆ°ChatGPTçš„ä¸‰å¤§é˜¶æ®µ",
      "updated_at": "Thu, 24 Jul 2025 15:59:22 GMT"
    },
    {
      "category": null,
      "content": "\"ä¸Šå‘¨è°ƒè¯•RAGç³»ç»Ÿæ—¶ï¼Œåˆé‡åˆ°äº†é‚£ä¸ªç»å…¸é—®é¢˜â€”â€”æ˜æ˜æ£€ç´¢åˆ°äº†ç›¸å…³å†…å®¹ï¼Œä½†LLMç”Ÿæˆçš„å›ç­”å´è·‘åäº†ï¼Œæ°”å¾—æˆ‘å·®ç‚¹æŠŠé”®ç›˜ç ¸äº†...\"\r\n\r\n## âœ ä¸‰æ­¥å¿«é€Ÿä¸Šæ‰‹åŸºç¡€RAG\r\n\r\n### STEP 1ï¼šç¯å¢ƒå‡†å¤‡\r\n```bash\r\n# åŸºç¡€åº“å®‰è£…ï¼ˆå»ºè®®å…ˆåˆ›å»ºè™šæ‹Ÿç¯å¢ƒï¼‰\r\npip install numpy pymupdf scikit-learn\r\n```\r\n\r\n### STEP 2ï¼šæ ¸å¿ƒæµç¨‹ä»£ç \r\n```python\r\nimport numpy as np\r\nfrom sklearn.metrics.pairwise import cosine_similarity\r\n\r\n# ç®€æ˜“æ–‡æœ¬åˆ†å—ï¼ˆæ»‘åŠ¨çª—å£æ³•ï¼‰\r\ndef chunk_text(text, chunk_size=500, overlap=100):\r\n    return [text[i:i+chunk_size] for i in range(0, len(text), chunk_size-overlap)]\r\n\r\n# ä¼ªåµŒå…¥ç”Ÿæˆï¼ˆå®é™…é¡¹ç›®è¯·ç”¨ä¸“ä¸šæ¨¡å‹ï¼‰\r\ndef naive_embedding(text):\r\n    words = text.lower().split()\r\n    return np.array([len(word) for word in words[:300]])  # ç®€å•ç¤ºä¾‹\r\n```\r\n\r\n### STEP 3ï¼šéªŒè¯æµç¨‹\r\n```python\r\n# æµ‹è¯•æ•°æ®\r\ntext = \"RAGç³»ç»ŸåŒ…å«æ£€ç´¢å’Œç”Ÿæˆä¸¤ä¸ªé˜¶æ®µ...\"\r\nchunks = chunk_text(text)\r\nembeddings = [naive_embedding(chunk) for chunk in chunks]\r\n\r\n# æ¨¡æ‹ŸæŸ¥è¯¢\r\nquery = \"RAGæœ‰å‡ ä¸ªé˜¶æ®µï¼Ÿ\"\r\nquery_embed = naive_embedding(query)\r\n\r\n# ç›¸ä¼¼åº¦è®¡ç®—\r\nscores = [cosine_similarity([query_embed], [emb])[0][0] for emb in embeddings]\r\nbest_chunk = chunks[np.argmax(scores)]\r\nprint(f\"æœ€ç›¸å…³ç‰‡æ®µï¼š{best_chunk}\")\r\n```\r\n\r\n## â–£ é¿å‘æŒ‡å—\r\n\r\n### åœºæ™¯1ï¼šåˆ†å—ç­–ç•¥ä¸å½“\r\n* **ç¿»è½¦ç°åœº**ï¼š\r\n  `æ£€ç´¢ç»“æœåŒ…å«ä¸å®Œæ•´å¥å­ â†’ ç”Ÿæˆå›ç­”é€»è¾‘æ–­è£‚`\r\n* **æŠ¢æ•‘æ–¹æ¡ˆ**ï¼š\r\n  ```python\r\n  # ä½¿ç”¨å¥å­åˆ†å‰²è€Œéå›ºå®šé•¿åº¦åˆ†å—\r\n  from nltk.tokenize import sent_tokenize\r\n  chunks = sent_tokenize(text)  # éœ€å…ˆå®‰è£…nltk\r\n  ```\r\n\r\n### åœºæ™¯2ï¼šåµŒå…¥ç»´åº¦ç¾éš¾\r\n* **ç¿»è½¦ç°åœº**ï¼š\r\n  `MemoryError: Unable to allocate array with shape (10000, 768)`\r\n* **æŠ¢æ•‘æ–¹æ¡ˆ**ï¼š\r\n  ```python\r\n  # ä½¿ç”¨PCAé™ç»´\r\n  from sklearn.decomposition import PCA\r\n  pca = PCA(n_components=128)\r\n  reduced_embs = pca.fit_transform(embeddings)\r\n  ```\r\n\r\n## âš¡ æ€§èƒ½ä¼˜åŒ–æŠ€å·§\r\n\r\n**åŠ¨æ€ä¸Šä¸‹æ–‡å‹ç¼©**ï¼š\r\n```python\r\n# æ ¹æ®ç›¸å…³æ€§åˆ†æ•°åŠ¨æ€è°ƒæ•´ä¸Šä¸‹æ–‡é•¿åº¦\r\ndef dynamic_context(chunks, scores, max_length=2000):\r\n    sorted_chunks = [x for _,x in sorted(zip(scores,chunks), reverse=True)]\r\n    context = \"\"\r\n    for chunk in sorted_chunks:\r\n        if len(context + chunk) <= max_length:\r\n            context += \"\\n\\n\" + chunk\r\n    return context\r\n```\r\n\r\n## ğŸ“Œ RAGæ ¸å¿ƒç»„ä»¶é€ŸæŸ¥è¡¨\r\n\r\n| ç»„ä»¶ | æ¨èæ–¹æ¡ˆ | æ³¨æ„äº‹é¡¹ |\r\n|------|----------|----------|\r\n| æ–‡æœ¬åˆ†å— | é€’å½’å­—ç¬¦åˆ†å‰² | ä¿æŒè¯­ä¹‰å®Œæ•´æ€§æ¯”å›ºå®šé•¿åº¦æ›´é‡è¦ |\r\n| åµŒå…¥æ¨¡å‹ | BGE-M3 | ä¸­æ–‡åœºæ™¯æ•ˆæœä¼˜äºOpenAI |\r\n| ç›¸ä¼¼åº¦è®¡ç®— | ä½™å¼¦ç›¸ä¼¼åº¦ | å…ˆå½’ä¸€åŒ–å‘é‡å¯æå‡å‡†ç¡®æ€§ |\r\n| æ£€ç´¢ç­–ç•¥ | æ··åˆæœç´¢ | ç»“åˆå…³é”®è¯+å‘é‡æ•ˆæœæ›´ä½³ |\r\n\r\n> \"è·Ÿç€è¿™ä¸ªæµç¨‹èµ°ä¸‹æ¥ï¼Œæ˜¯ä¸æ˜¯å‘ç°RAGçš„é»‘ç›’å­ä¹Ÿæ²¡é‚£ä¹ˆç¥ç§˜ï¼Ÿå¦‚æœå®æ“ä¸­é‡åˆ°å…·ä½“é—®é¢˜ï¼Œéšæ—¶å¯ä»¥æ‰¾æˆ‘èŠèŠå®æˆ˜ç»†èŠ‚ï¼\"",
      "cover": null,
      "created_at": "Thu, 24 Jul 2025 15:59:22 GMT",
      "deleted_at": null,
      "id": 14,
      "summary": null,
      "tags": null,
      "title": "â–¨ ä»é›¶æ‰‹æ’•RAGå†…æ ¸ï¼šç”¨PythonåŸºç¡€åº“æ„å»ºæ£€ç´¢å¢å¼ºç”Ÿæˆç³»ç»Ÿ",
      "updated_at": "Thu, 24 Jul 2025 15:59:22 GMT"
    },
    {
      "category": null,
      "content": "## â–¨ ä¸ºä»€ä¹ˆéœ€è¦å®ƒï¼Ÿ\r\n\r\n\"åˆè¦å¼€ä¼šå‘˜ï¼Ÿè¿˜è¦å•ç‹¬æ”¶æŠ•å±è´¹ï¼Ÿ\" è¿™å¤§æ¦‚æ˜¯æ¯ä¸ªè¿½å‰§äººçš„å™©æ¢¦ã€‚æˆ‘è€å©†æœ€è¿‘é‡åˆ·ã€Šç”„å¬›ä¼ ã€‹ï¼Œå°±å› ä¸ºæŠ•å±é¢å¤–æ”¶è´¹è¿™äº‹è·Ÿæˆ‘æŠ±æ€¨äº†å¥½å‡ å¤©...\r\n\r\nLibreTV æ˜¯ä¸€ä¸ª**å¼€æºè§†é¢‘æœç´¢å¼•æ“**ï¼Œå®ƒèƒ½å¸®ä½ ï¼š\r\n- æœç´¢å…¨ç½‘å½±è§†èµ„æºï¼ˆçƒ­æ’­å‰§/ç»¼è‰º/åŠ¨æ¼«ï¼‰\r\n- **ä¸å­˜å‚¨ä»»ä½•å†…å®¹**ï¼Œåªåšèµ„æºèšåˆ\r\n- å›½å†…è®¿é—®æµç•…ï¼ˆæ„Ÿè°¢ Cloudflareï¼‰\r\n- å®Œå…¨å…è´¹éƒ¨ç½²\r\n\r\n`Error: 404 Not Found` â†’ å½“ä½ çœ‹åˆ°è¿™ä¸ªæŠ¥é”™ï¼Œå¤§æ¦‚ç‡æ˜¯èµ„æºå¤±æ•ˆäº†ï¼ˆå®ƒåªæ˜¯ä¸ªæœç´¢å¼•æ“ï¼Œä¸ä¿è¯æ¯ä¸ªé“¾æ¥éƒ½æœ‰æ•ˆå“¦ï¼‰\r\n\r\n## âœ 3åˆ†é’Ÿå¿«é€Ÿéƒ¨ç½²\r\n\r\n### STEP 1ï¼šå‡†å¤‡ä»“åº“\r\n```bash\r\n# å…ˆ fork é¡¹ç›®åˆ°è‡ªå·±çš„ GitHubï¼ˆä¸ç”¨å‘½ä»¤è¡Œï¼Œç½‘é¡µç‚¹æŒ‰é’®å°±è¡Œï¼‰\r\n# è®¿é—® https://github.com/LibreSpark/libretv ç‚¹å³ä¸Šè§’ \"Fork\"\r\n```\r\n\r\n### STEP 2ï¼šCloudflare è®¾ç½®\r\n1. ç™»å½• [Cloudflare Dashboard](https://dash.cloudflare.com/)\r\n2. å·¦ä¾§èœå•é€‰ \"Pages\" â†’ \"åˆ›å»ºé¡¹ç›®\"\r\n3. è¿æ¥ä½  fork çš„ libretv ä»“åº“\r\n\r\n*å…³é”®é…ç½®ï¼š*\r\n- æ„å»ºå‘½ä»¤ï¼š`ç•™ç©º`\r\n- è¾“å‡ºç›®å½•ï¼š`ç•™ç©º`\r\n- ç¯å¢ƒå˜é‡ï¼š\r\n  ```env\r\n  PASSWORD=your_password  # âš ï¸ å¿…å¡«ï¼è¿™æ˜¯å‰ç«¯è®¿é—®å¯†ç \r\n  ADMINPASSWORD=admin123  # (å¯é€‰) åå°ç®¡ç†å¯†ç \r\n  ```\r\n\r\n### STEP 3ï¼šè®¿é—®ä½ çš„å½±è§†åº“\r\néƒ¨ç½²å®Œæˆåï¼ˆçº¦2åˆ†é’Ÿï¼‰ï¼Œä½ ä¼šå¾—åˆ°ä¸€ä¸ªç±»ä¼¼ï¼š\r\n`https://your-project-name.pages.dev` çš„ç½‘å€ï¼Œæ‰“å¼€å°±èƒ½ç”¨äº†ï¼\r\n\r\n## â–£ é¿å‘æŒ‡å—\r\n\r\n**åœºæ™¯1ï¼šéƒ¨ç½²å¤±è´¥**\r\n- **ç¿»è½¦ç°åœº**  \r\n  `Build failed: No build command specified`  \r\n  â†’ è¿™æ˜¯æ­£å¸¸ç°è±¡ï¼LibreTV æ˜¯çº¯å‰ç«¯é¡¹ç›®ï¼Œä¸éœ€è¦æ„å»ºæ­¥éª¤\r\n- **æŠ¢æ•‘æ–¹æ¡ˆ**  \r\n  ç¡®è®¤ä½ åœ¨éƒ¨ç½²æ—¶**æ²¡æœ‰å¡«å†™**æ„å»ºå‘½ä»¤å’Œè¾“å‡ºç›®å½•\r\n\r\n**åœºæ™¯2ï¼šå›½å†…è®¿é—®æ…¢**\r\n- **ç¿»è½¦ç°åœº**  \r\n  è§†é¢‘åŠ è½½å¡é¡¿\r\n- **æŠ¢æ•‘æ–¹æ¡ˆ**  \r\n  1. åœ¨ Cloudflare Pages è®¾ç½®é‡Œå¼€å¯ \"China Cache\"ï¼ˆä¸­å›½ç¼“å­˜ï¼‰  \r\n  2. âš ï¸ å¦‚æœè¿˜æ…¢ï¼Œå¯ä»¥è¯•è¯•ç”¨ [è‡ªå®šä¹‰åŸŸå](https://developers.cloudflare.com/pages/platform/custom-domains/)\r\n\r\n## âš¡ é«˜çº§æŠ€å·§\r\n\r\n**æŠ€å·§ï¼šè‡ªåŠ¨åˆ·æ–°èµ„æºåº“**\r\n```bash\r\n# å¦‚æœä½ çš„èµ„æºç´¢å¼•ä¸æ›´æ–°ï¼ˆåå°å¯é…å®šæ—¶ä»»åŠ¡ï¼‰\r\ncurl -X POST \"https://ä½ çš„åŸŸå/api/update?password=ä½ çš„ADMINå¯†ç \"\r\n```\r\n\r\n## ğŸ“Œ é‡è¦æé†’\r\n\r\n1. **åˆæ³•æ€§è¯´æ˜**ï¼š  \r\n   LibreTV åªæ˜¯æœç´¢å¼•æ“ï¼Œå®é™…è§‚çœ‹è¯·éµå®ˆå½“åœ°æ³•å¾‹æ³•è§„\r\n\r\n2. **å®‰å…¨æç¤º**ï¼š  \r\n   âš ï¸ åŠ¡å¿…è®¾ç½®å¤æ‚å¯†ç ï¼æ›¾ç»æœ‰äººç”¨ `123456` ç»“æœè¢«é™Œç”Ÿäººæ”¹äº†é…ç½®...\r\n\r\n---\r\n\r\n\"æå®šäº†å—ï¼Ÿæœ‰äº†è¿™ä¸ªå…¨å®¶è¿½å‰§å†ä¹Ÿä¸ç”¨æ±‚ä¼šå‘˜å•¦ï¼å¦‚æœéƒ¨ç½²æ—¶é‡åˆ°é—®é¢˜æˆ–è€…æƒ³è¯•è¯•å…¶ä»–éƒ¨ç½²æ–¹å¼ï¼ˆæ¯”å¦‚ Vercelï¼‰ï¼Œéšæ—¶å–Šæˆ‘~\"",
      "cover": null,
      "created_at": "Thu, 24 Jul 2025 15:59:22 GMT",
      "deleted_at": null,
      "id": 15,
      "summary": null,
      "tags": null,
      "title": "ğŸ” å…è´¹æ­å»ºä¸ªäººå½±è§†æœç´¢å·¥å…· LibreTVï¼ˆåŸºäº Cloudflare Pagesï¼‰",
      "updated_at": "Thu, 24 Jul 2025 15:59:22 GMT"
    },
    {
      "category": null,
      "content": "ä½œä¸ºä¸€ä½ç»å†è¿‡æ— æ•°TypeScript (TS) å’Œ JavaScript (JS) é¡¹ç›®çš„è€å¸æœºï¼Œæˆ‘æ¥å‘Šè¯‰ä½ ä¸ºä»€ä¹ˆå¤§å‹é¡¹ç›®éƒ½å¼€å§‹æ‹¥æŠ±TSâ€”â€”è¿™ä¸æ˜¯èµ¶æ—¶é«¦ï¼Œè€Œæ˜¯å®æ‰“å®çš„ç”Ÿäº§åŠ›é©å‘½ï¼ä¸‹é¢è®©æˆ‘ç”¨æœ€æ¥åœ°æ°”çš„æ–¹å¼å‘Šè¯‰ä½ è¿™èƒŒåçš„é€»è¾‘ã€‚\r\n\r\n## â–¨ å½“JSé‡ä¸Šå¤§å‹é¡¹ç›®ï¼šä¸€ä¸ªçœŸå®çš„å™©æ¢¦åœºæ™¯\r\n\r\nä½ æœ‰æ²¡æœ‰ç»å†è¿‡è¿™æ ·çš„å´©æºƒæ—¶åˆ»ï¼ŸåŠå¤œè¢«æŠ¥è­¦ç”µè¯åµé†’ï¼š\r\n\r\n`TypeError: Cannot read property 'name' of undefined` å‡ºç°åœ¨ç”Ÿäº§ç¯å¢ƒğŸ˜±\r\n\r\nç„¶åå‘ç°æ˜¯æŸä¸ªåŒäº‹3ä¸ªæœˆå‰å†™çš„å‡½æ•°ï¼Œåœ¨æ²¡æœ‰ç±»å‹çº¦æŸçš„æƒ…å†µä¸‹ä¼ å…¥äº†é”™è¯¯å‚æ•°ã€‚è¿™å°±æ˜¯JSå¼±ç±»å‹åœ¨å¤§å‹é¡¹ç›®ä¸­ç•™ä¸‹çš„éšæ‚£ã€‚\r\n\r\n**å…¸å‹JSç¿»è½¦ç°åœº**ï¼š\r\n```javascript\r\n// åŸå§‹å‡½æ•°\r\nfunction calculateTotal(items) {\r\n  return items.reduce((sum, item) => sum + item.price, 0)\r\n}\r\n\r\n// åŠå¹´åæŸä½åŒäº‹çš„æ–°éœ€æ±‚è°ƒç”¨\r\ncalculateTotal('å†°ç®±,æ´—è¡£æœº') // ç»“æœè¾“å‡ºä¸€å †NaN\r\n```\r\n\r\nè€Œåœ¨TSä¸­ï¼Œè¿™ä¸ªé—®é¢˜åœ¨ç¼–ç é˜¶æ®µå°±ä¼šè¢«æ‹¦æˆªï¼š\r\n```typescript\r\ninterface Item {\r\n  price: number\r\n}\r\n\r\nfunction calculateTotal(items: Item[]) {\r\n  return items.reduce((sum, item) => sum + item.price, 0)\r\n}\r\n\r\ncalculateTotal('å†°ç®±,æ´—è¡£æœº') // âŒ ç¼–è¯‘æ—¶å°±æŠ¥é”™ï¼šå‚æ•°ç±»å‹ä¸åŒ¹é…\r\n```\r\n\r\n## âœ ä¸‰åˆ†é’ŸTSé€ŸæˆæŒ‡å—\r\n\r\n### STEP 1ï¼šç¯å¢ƒæ­å»º\r\n```bash\r\nnpm install -g typescript  # å…¨å±€å®‰è£…TSç¼–è¯‘å™¨\r\ntsc --init  # ç”Ÿæˆé»˜è®¤çš„tsconfig.jsoné…ç½®æ–‡ä»¶\r\n```\r\n\r\n### STEP 2ï¼šåŸºç¡€ç±»å‹æ ‡æ³¨\r\n```typescript\r\n// å˜é‡ç±»å‹æ ‡æ³¨\r\nlet username: string = 'ç‹å°æ˜'\r\nlet age: number = 25\r\nlet isAdmin: boolean = false\r\n\r\n// å‡½æ•°å‚æ•°å’Œè¿”å›å€¼ç±»å‹\r\nfunction greet(name: string): string {\r\n  return `ä½ å¥½ï¼Œ${name}ï¼`\r\n}\r\n```\r\n\r\n### STEP 3ï¼šä½“éªŒç±»å‹å®‰å…¨\r\n```typescript\r\nlet count = 5 // TSä¼šè‡ªåŠ¨æ¨æ–­ä¸ºnumberç±»å‹\r\ncount = 'äº”' // âŒ ç¼–è¯‘é”™è¯¯ï¼šä¸èƒ½å°†stringèµ‹å€¼ç»™number\r\n```\r\n\r\n## â–£ é«˜çº§é¿å‘æŒ‡å—\r\n\r\n### åœºæ™¯1ï¼šå¯¹è±¡å½¢çŠ¶ä¸æ˜ç¡®\r\n```typescript\r\n// ç³Ÿç³•çš„åšæ³•\r\nfunction printUser(user: any) {\r\n  console.log(user.name)\r\n}\r\n\r\n// ä¼˜é›…çš„åšæ³•\r\ninterface User {\r\n  name: string\r\n  age?: number  // å¯é€‰å±æ€§\r\n}\r\n\r\nfunction printUser(user: User) {\r\n  console.log(user.name)\r\n}\r\n```\r\n\r\n### åœºæ™¯2ï¼šç¬¬ä¸‰æ–¹åº“ä¸å…¼å®¹\r\n```typescript\r\n// åˆ›å»ºå£°æ˜æ–‡ä»¶ï¼ˆå¦‚jquery.d.tsï¼‰\r\ndeclare module 'jquery' {\r\n  interface JQuery {\r\n    modal(action: string): JQuery\r\n  }\r\n  function $(selector: string): JQuery\r\n  export = $\r\n}\r\n\r\n// ç°åœ¨ä½¿ç”¨jqueryå°±æœ‰ç±»å‹æç¤ºäº†\r\n$('#dialog').modal('show')\r\n```\r\n\r\n## âš¡ ç”Ÿäº§åŠ›å€å¢æŠ€å·§\r\n\r\n### è‡ªåŠ¨æ¨å¯¼ä¸æ™ºèƒ½æç¤º\r\n```typescript\r\n// VS Codeä¸­ä½“éªŒæä½³çš„æ™ºèƒ½æç¤º\r\nconst users = [\r\n  { name: 'å¼ ä¸‰', age: 20 },\r\n  { name: 'æå››', age: 25 }\r\n]\r\n\r\nusers.map(user => user.) // è¾“å…¥.åä¼šè‡ªåŠ¨æç¤ºnameå’Œageå±æ€§\r\n```\r\n\r\n### æ³›å‹å°è£…æ›´çµæ´»\r\n```typescript\r\n// å°è£…APIå“åº”ç±»å‹\r\ninterface ApiResponse<T> {\r\n  code: number\r\n  data: T\r\n  message: string\r\n}\r\n\r\n// ä½¿ç”¨æ—¶æŒ‡å®šå…·ä½“ç±»å‹\r\ntype UserResponse = ApiResponse<{ id: number; name: string }>\r\n```\r\n\r\n## ğŸ“Œ TSå¿…å¤‡ç±»å‹é€ŸæŸ¥è¡¨\r\n\r\n| åœºæ™¯ | ç±»å‹å†™æ³• | è¯´æ˜ |\r\n|------|---------|------|\r\n| å¯¹è±¡ç»“æ„ | `interface User { name: string }` | å®šä¹‰å¯¹è±¡å½¢çŠ¶ |\r\n| å¯é€‰å±æ€§ | `{ name?: string }` | å±æ€§å¯èƒ½ä¸å­˜åœ¨ |\r\n| è”åˆç±»å‹ | `string | number` | å¤šä¸ªå¯èƒ½çš„ç±»å‹ |\r\n| ç±»å‹åˆ«å | `type ID = string | number` | ç»™ç±»å‹èµ·åˆ«å |\r\n| æ³›å‹å‡½æ•° | `function id<T>(arg: T): T` | ä¿æŒè¾“å…¥è¾“å‡ºç±»å‹ä¸€è‡´ |\r\n| è·å–å…ƒç´ ç±»å‹ | `typeof document.querySelector('div')` | æ¨å¯¼DOMå…ƒç´ ç±»å‹ |\r\n\r\n## ä¸ºä»€ä¹ˆä½ åº”è¯¥ç°åœ¨å°±ç”¨TSï¼Ÿ\r\n\r\n1. **å¼€å‘é˜¶æ®µé¢„è­¦**ï¼š70%çš„å¸¸è§é”™è¯¯åœ¨ç¼–å†™æ—¶å°±ä¼šè¢«å‘ç°\r\n2. **æ–‡æ¡£å³ä»£ç **ï¼šä¸ç”¨å†™æ³¨é‡Šï¼Œç±»å‹å£°æ˜å°±æ˜¯æœ€å¥½çš„æ–‡æ¡£\r\n3. **é‡æ„ä¿¡å¿ƒ**ï¼šå¤§è§„æ¨¡ä¿®æ”¹ä»£ç æ—¶TSæ˜¯ä½ çš„å®‰å…¨ç½‘\r\n4. **å›¢é˜Ÿåä½œ**ï¼šæ–°äººåŠ å…¥æ—¶èƒ½å¿«é€Ÿç†è§£ä»£ç ç»“æ„\r\n5. **æœªæ¥è¶‹åŠ¿**ï¼šReactã€Vue3ç­‰ä¸»æµæ¡†æ¶éƒ½ä»¥TSä¸ºå…ˆ\r\n\r\n> \"è‡ªä»ç”¨äº†TSï¼Œæˆ‘ç»ˆäºå¯ä»¥æ™šä¸Šå®‰å¿ƒç¡è§‰ï¼Œä¸ç”¨å†æ‹…å¿ƒåŠå¤œè¢«ç”Ÿäº§ç¯å¢ƒæŠ¥è­¦å«é†’äº†ã€‚\" â€”â€” æŸä¸çŸ¥åç†¬å¤œç¨‹åºå‘˜\r\n\r\nè§‰å¾—è¿™ä»½æŒ‡å—æœ‰ç”¨å—ï¼Ÿå¦‚æœä½ åœ¨TSå®è·µä¸­æœ‰ä»»ä½•å…·ä½“é—®é¢˜ï¼Œæ¬¢è¿éšæ—¶é—®æˆ‘ï¼ğŸš€",
      "cover": null,
      "created_at": "Thu, 24 Jul 2025 15:59:22 GMT",
      "deleted_at": null,
      "id": 16,
      "summary": null,
      "tags": null,
      "title": "ğŸ’¡ ä¸ºä»€ä¹ˆè¶Šæ¥è¶Šå¤šé¡¹ç›®ä»JSè½¬å‘TSï¼Ÿè¿™é‡Œæœ‰ä»½ç±»å‹å®‰å…¨çš„ä¼˜é›…æŒ‡å—",
      "updated_at": "Thu, 24 Jul 2025 15:59:22 GMT"
    },
    {
      "category": null,
      "content": "date: 2025-07-19T19:04:00\nauthor: é»„åº”è¾‰\ntags:\n  - AI\n  - Transformer\n  - LLM\n  - å¤§è¯­è¨€æ¨¡å‹\n---\n\n# è¯­è¨€æ¨¡å‹çš„è¿›åŒ–å²è¯—ï¼šä»è¯è¯­æ‹¼æ¥åˆ°æ€ç»´æ¨¡æ‹Ÿ\næœ€è¿‘å®ä¹ ä»äº‹AIç›¸å…³çš„å·¥ä½œï¼Œå¹¶ä¸”ç°åœ¨å¤§å®¶å¯¹AIéƒ½æ˜¯**é‡åº¦ä¾èµ–**ï¼Œæˆ‘ä»¬éœ€è¦æ›´åŠ äº†è§£AIæ‰èƒ½è®©ä»–æ›´å¥½çš„èµ‹èƒ½æˆ‘ä»¬çš„å·¥ä½œã€‚ä½†æ˜¯ä»å¤´å¼€å§‹çœ‹é‚£äº›å­¦æœ¯è®ºæ–‡çœŸæ˜¯ä»¤äºº**é ­å¤§**ï¼Œæ‰€ä»¥æˆ‘å†™äº†è¿™ç¯‡æ–‡ç« ã€‚é—²è¯å°‘è¯´ï¼Œå¼€å§‹å§ï¼\n\næƒ³è±¡ä½ å¯¹ç€åå¹´å‰çš„è¯­éŸ³åŠ©æ‰‹å‘å‡ºâ€œæ‰“å¼€ç©ºè°ƒâ€è¿™æ ·ç®€å•çš„æŒ‡ä»¤ï¼Œå®ƒå´åƒä¸€å°å¡å¸¦çš„å½•éŸ³æœºï¼Œåªä¼šå‘†æ¿åœ°åé—®â€œç©ºè°ƒæ˜¯ä»€ä¹ˆï¼Ÿâ€â€”â€”è¿™æ›¾æ˜¯äººå·¥æ™ºèƒ½åœ¨è¯­è¨€ç†è§£é¢†åŸŸç¬¨æ‹™å­¦æ­¥çš„çœŸå®å†™ç…§ã€‚2010å¹´å‰çš„è¯­è¨€æ¨¡å‹æ·±é™·æ–‡å­—å¤±è¯­ç—‡çš„æ³¥æ²¼ï¼Œå®ƒä»¬çš„ä¸–ç•Œç”±å­¤ç«‹çš„è¯å—æœºæ¢°æ‹¼å‡‘è€Œæˆã€‚å½¼æ—¶å æ®ä¸»æµçš„**N-gramæ¨¡å‹ï¼ˆæ°”æ³¡è§£é‡Šï¼šå¦‚åŒæ ¹æ®å‰å‡ ä¸ªå­—çŒœæˆè¯­ï¼Œå¬åˆ°â€œé£è›¾æ‰‘â€å°±æ¥â€œç«â€ï¼‰** æœ¬è´¨ä¸Šæ˜¯ä¸ªæ¦‚ç‡æ¸¸æˆï¼Œé€šè¿‡ç»Ÿè®¡æµ·é‡æ–‡æœ¬ä¸­è¯è¯­çš„æ­é…é¢‘ç‡æ¥é¢„æµ‹åç»­å†…å®¹ã€‚å½“ä½ è¯´â€œç‰›æ’è¦äº”åˆ†ç†Ÿâ€ï¼Œå®ƒå¯èƒ½æœºæ¢°åœ°æ¥ä¸Šâ€œç†Ÿèƒ½ç”Ÿå·§â€ï¼Œå› ä¸ºè¯­æ–™åº“æ˜¾ç¤ºâ€œç†Ÿâ€å­—åé«˜é¢‘å‡ºç°è¿™ä¸ªæˆè¯­ã€‚è¿™ç§æœºæ¢°æ‹¼æ¥æš´éœ²äº†è‡´å‘½ç¼ºé™·ï¼šæœºå™¨å®Œå…¨æ— æ³•æ•æ‰è¯è¯­é—´çš„é€»è¾‘å…³è”ï¼Œæ›´é‘è®ºç†è§£â€œäº”åˆ†ç†Ÿâ€ç‰¹æŒ‡çƒ¹é¥ªç¨‹åº¦ã€‚å®ƒä»¬å¦‚åŒåªèƒ½è§‚çœ‹ä¸‰æ ¼æ¼«ç”»çš„å­©å­ï¼Œæ°¸è¿œæ— æ³•æŠŠæ¡é•¿ç¯‡æ•…äº‹çš„èµ·æ‰¿è½¬åˆï¼Œä»»ä½•è¶…å‡ºçŸ­è·ç¦»ä¾èµ–çš„è¡¨è¾¾éƒ½ä¼šè®©ç³»ç»Ÿé™·å…¥æ··ä¹±ã€‚\n\nåœ¨Transformerå‡ºç°å‰ï¼Œ**å¾ªç¯ç¥ç»ç½‘ç»œï¼ˆRNNï¼‰ï¼ˆæ°”æ³¡è§£é‡Šï¼šåƒæ¥åŠ›èµ›è·‘â€”â€”æ¯ä¸ªè¯è¯­æŠŠâ€œè®°å¿†æ£’â€ä¼ ç»™ä¸‹ä¸€ä¸ªè¯ï¼‰** æ›¾è¢«è§†ä¸ºè§£å†³é•¿æ–‡æœ¬çš„æ›™å…‰ã€‚ä½†å½“å¤„ç†å¦‚ã€Šç™¾å¹´å­¤ç‹¬ã€‹è¿™æ ·è·¨è¶Šæ•°ä»£äººçš„å®¶æ—å²è¯—æ—¶ï¼ŒRNNé­é‡äº†**æ¢¯åº¦æ¶ˆå¤±ç—¼ç–¾ï¼ˆæ°”æ³¡è§£é‡Šï¼šå¦‚åŒè®°å¿†è¡°é€€çš„è€äººï¼Œä¼ è‡³ç¬¬100ä¸ªè¯è¯­æ—¶ï¼Œå¼€ç¯‡çš„â€œé©¬å­”å¤šå°é•‡â€æ—©å·²é—å¿˜æ®†å°½ï¼‰** ã€‚å…¶æœ¬è´¨æ˜¯åå‘ä¼ æ’­ä¸­è¯¯å·®ä¿¡å·éšç½‘ç»œæ·±åº¦æŒ‡æ•°è¡°å‡ï¼Œå¯¼è‡´æ—©æœŸè¯è¯­æƒé‡å‡ ä¹æ— æ³•æ›´æ–°ã€‚åç»­çš„**LSTMï¼ˆæ°”æ³¡è§£é‡Šï¼šç»™RNNåŠ è£…ä¸‰é“è®°å¿†é—¸é—¨â€”â€”è¾“å…¥é—¨ç­›é€‰æ–°ä¿¡æ¯ï¼Œé—å¿˜é—¨ä¸¢å¼ƒæ—§è®°å¿†ï¼Œè¾“å‡ºé—¨æ§åˆ¶è¡¨è¾¾ï¼‰** è™½èƒ½è®°å¿†ç™¾æ­¥å†…çš„ä¾èµ–ï¼Œé¢å¯¹åƒå­—è®ºæ–‡ä»åŠ›ä¸ä»å¿ƒã€‚å½“åˆ†æâ€œè™½ç„¶A...ä½†æ˜¯B...å› æ­¤C...â€è¿™ç±»ä¸‰æ®µè®ºæ—¶ï¼Œæ¨¡å‹å¸¸å› é—å¿˜å‰æAè€Œå¾—å‡ºè’è°¬ç»“è®ºã€‚\n\nè½¬æœºåœ¨2017å¹´éšç€ä¸€ç¯‡åˆ’æ—¶ä»£çš„è®ºæ–‡ã€ŠAttention is All You Needã€‹æ‚„ç„¶é™ä¸´ã€‚ç ”ç©¶è€…ä»¬å—äººç±»é˜…è¯»æ—¶ç›®å…‰åœ¨å…³é”®ä¿¡æ¯é—´è·³è·ƒçš„å¯å‘ï¼Œåˆ›é€ äº†é©å‘½æ€§çš„**Transformeræ¶æ„ï¼ˆæ°”æ³¡è§£é‡Šï¼šèµ‹äºˆæ¯ä¸ªè¯â€œä¸Šå¸è§†è§’â€ï¼Œè®©å¥å­ä¸­æ‰€æœ‰è¯è¯­ç¬é—´å»ºç«‹å…¨å±€å…³è”ï¼‰** ã€‚å…¶æ ¸å¿ƒå¼•æ“**è‡ªæ³¨æ„åŠ›æœºåˆ¶ï¼ˆæ°”æ³¡è§£é‡Šï¼šå¦‚åŒè¯è¯­è®®ä¼šï¼Œæ¯ä¸ªè¯éƒ½å¯å‘èµ·æŠ•ç¥¨è¯¢é—®ï¼šâ€œæˆ‘å’Œå¥ä¸­å“ªä½æˆå‘˜æœ€ç›¸å…³ï¼Ÿâ€ä¾‹å¦‚â€œè‹¹æœâ€ä¼šåŒæ—¶è´¨è¯¢â€œæ‰‹æœºâ€ä¸â€œæ°´æœâ€æ¥ç¡®è®¤è‡ªèº«è¯­ä¹‰ï¼‰** å½»åº•é¢ è¦†äº†åºåˆ—å¤„ç†çš„èŒƒå¼ã€‚é…åˆ**ä½ç½®ç¼–ç ï¼ˆæ°”æ³¡è§£é‡Šï¼šä¸ºæ¯ä¸ªè¯åµŒå…¥éšå½¢åæ ‡ï¼Œâ€œçŒ«è¿½ç‹—â€ä¸â€œç‹—è¿½çŒ«â€ä»æ­¤åœ¨å‘é‡ç©ºé—´å—è¾•åŒ—è¾™ï¼‰** ï¼Œæ¨¡å‹ç»ˆäºçªç ´çŸ­æ—¶è®°å¿†çš„ç‰¢ç¬¼ã€‚æ•°å­¦ä¸Šè¿™ç²¾å¦™ä½“ç°ä¸ºï¼š\n\n$$\\text{Attention}(Q,K,V) = \\text{softmax}\\left(\\frac{QK^T}{\\sqrt{d_k}}\\right)V$$\n\n*(æ°”æ³¡è§£é‡Šï¼šQ=å½“å‰è¯çš„ç–‘é—®ï¼ŒK=å…¨å¥çŸ¥è¯†ç´¢å¼•ï¼ŒV=ä¿¡æ¯å®åº“ï¼Œæœ¬è´¨æ˜¯è®¡ç®—æ¯ä¸ªè¯å¯¹å…¨å±€ä¿¡æ¯çš„å…³æ³¨æƒé‡ï¼‰*\n**å‡è®¾åœºæ™¯**ï¼šåˆ†æå¥å­\"è‹¹æœæ‰‹æœºå¥½ç”¨\"ä¸­\"è‹¹æœ\"ä¸å…¶ä»–è¯çš„å…³ç³»  \nè®¾è¯å‘é‡ç»´åº¦ $d_k=3$ï¼Œå„å‘é‡å€¼ä¸ºï¼š\n- è‹¹æœçš„æŸ¥è¯¢å‘é‡ Q = [1.2, 0.5, -0.3]\n- å„è¯çš„é”®å‘é‡ Kï¼š\n  - $K_è‹¹æœ = [0.8, 0.2, 0.4]$\n  - $K_æ‰‹æœº = [0.1, 1.5, -0.6]$\n  - $K_å¥½ç”¨ = [-0.5, 0.3, 0.7]$\n- å„è¯çš„å€¼å‘é‡ Vï¼š\n  - $V_è‹¹æœ = [0.9, -0.1, 0.2]$\n  - $V_æ‰‹æœº = [0.3, 1.0, -0.4]$\n  - $V_å¥½ç”¨ = [-0.2, 0.5, 0.6]$\n\n**åˆ†æ­¥è®¡ç®—**ï¼š\n1. **è®¡ç®—ç›¸ä¼¼åº¦å¾—åˆ†**ï¼š  \n   $$QK^T = \\begin{bmatrix}1.2Ã—0.8+0.5Ã—0.2+(-0.3)Ã—0.4 \\\\ 1.2Ã—0.1+0.5Ã—1.5+(-0.3)Ã—(-0.6) \\\\ 1.2Ã—(-0.5)+0.5Ã—0.3+(-0.3)Ã—0.7 \\end{bmatrix} = \\begin{bmatrix}0.96+0.1-0.12 \\\\ 0.12+0.75+0.18 \\\\ -0.6+0.15-0.21 \\end{bmatrix} = \\begin{bmatrix}0.94 \\\\ 1.05 \\\\ -0.66 \\end{bmatrix}$$\n\n2. **ç¼©æ”¾å¤„ç†**ï¼š  \n   $$\\frac{QK^T}{\\sqrt{d_k}} = \\frac{\\begin{bmatrix}0.94\\\\1.05\\\\-0.66\\end{bmatrix}}{\\sqrt{3}} â‰ˆ \\frac{\\begin{bmatrix}0.94\\\\1.05\\\\-0.66\\end{bmatrix}}{1.732} = \\begin{bmatrix}0.54 \\\\ 0.61 \\\\ -0.38\\end{bmatrix}$$\n\n3. **Softmaxå½’ä¸€åŒ–**ï¼š  \n   $$e^{0.54}â‰ˆ1.72,\\ e^{0.61}â‰ˆ1.84,\\ e^{-0.38}â‰ˆ0.68$$\n   $$æ€»å’Œ = 1.72 + 1.84 + 0.68 = 4.24$$\n   $$æƒé‡ = \\begin{bmatrix}1.72/4.24 \\\\ 1.84/4.24 \\\\ 0.68/4.24\\end{bmatrix} â‰ˆ \\begin{bmatrix}0.41 \\\\ 0.43 \\\\ 0.16\\end{bmatrix}$$\n\n4. **åŠ æƒæ±‚å’Œ**ï¼š  \n   $$\\text{Attention} = 0.41Ã—\\begin{bmatrix}0.9\\\\-0.1\\\\0.2\\end{bmatrix} + 0.43Ã—\\begin{bmatrix}0.3\\\\1.0\\\\-0.4\\end{bmatrix} + 0.16Ã—\\begin{bmatrix}-0.2\\\\0.5\\\\0.6\\end{bmatrix}$$\n   $$= \\begin{bmatrix}0.41Ã—0.9 \\\\ 0.41Ã—(-0.1) \\\\ 0.41Ã—0.2\\end{bmatrix} + \\begin{bmatrix}0.43Ã—0.3 \\\\ 0.43Ã—1.0 \\\\ 0.43Ã—(-0.4)\\end{bmatrix} + \\begin{bmatrix}0.16Ã—(-0.2) \\\\ 0.16Ã—0.5 \\\\ 0.16Ã—0.6\\end{bmatrix}$$  \n   $$= \\begin{bmatrix}0.369 \\\\ -0.041 \\\\ 0.082\\end{bmatrix} + \\begin{bmatrix}0.129 \\\\ 0.430 \\\\ -0.172\\end{bmatrix} + \\begin{bmatrix}-0.032 \\\\ 0.080 \\\\ 0.096\\end{bmatrix} = \\begin{bmatrix}0.466 \\\\ 0.469 \\\\ 0.006\\end{bmatrix}$$\n\n**ç»“è®º**ï¼šç»è¿‡æ³¨æ„åŠ›è®¡ç®—ï¼Œ\"è‹¹æœ\"çš„æ–°å‘é‡ä¸º[0.466, 0.469, 0.006]ã€‚å…¶ä¸­46.9%çš„ç‰¹å¾æ¥è‡ª\"æ‰‹æœº\"ï¼ˆæœ€é«˜æƒé‡0.469ï¼‰ï¼Œè¯´æ˜æ¨¡å‹æ­£ç¡®æ•æ‰åˆ°\"è‹¹æœæ‰‹æœº\"çš„è¯­ä¹‰å…³è”ã€‚\n\nè¿™å®Œç¾è§£å†³äº†RNNçš„é•¿æœŸä¾èµ–å›°å¢ƒã€‚ä½†æŠ€æœ¯ç‹‚æ¬¢èƒŒåï¼Œæ–°é—®é¢˜å¦‚å½±éšå½¢ï¼šæ³¨æ„åŠ›çŸ©é˜µçš„è®¡ç®—é‡éšæ–‡æœ¬é•¿åº¦å‘ˆå¹³æ–¹çº§æš´å¢ï¼Œå¤„ç†åƒå­—æ–‡æœ¬çš„è¿ç®—æ¶ˆè€—ç«Ÿæ˜¯ç™¾å­—æ–‡æœ¬çš„ç™¾å€ä¹‹å·¨ï¼Œç®—åŠ›éœ€æ±‚å¦‚åŒè„±ç¼°é‡é©¬ã€‚\n\næ­£å½“å·¥ç¨‹å¸ˆä»¬ä¸ºç®—åŠ›ç“¶é¢ˆç„¦å¤´çƒ‚é¢æ—¶ï¼Œ2018å¹´OpenAIæ¨å‡ºçš„GPTæ¨¡å‹å¦‚æƒŠé›·ç‚¸å“ã€‚å®ƒé€šè¿‡å †å æ•°åå±‚Transformer **è§£ç å™¨ï¼ˆæ°”æ³¡è§£é‡Šï¼šä»¿è‹¥ä½œå®¶åå¤æ¶¦ç¨¿ï¼Œæ¯å±‚ç½‘ç»œå¯¹è¯­ä¹‰è¿›è¡Œæ·±åº¦æç‚¼ï¼‰** ï¼Œç»“åˆ**æ¦‚ç‡é‡‡æ ·ç­–ç•¥ï¼ˆæ°”æ³¡è§£é‡Šï¼šæ™ºèƒ½éª°å­æ¸¸æˆâ€”â€”80%å‡ ç‡é€‰æ‹©æœ€ä¼˜è¯æ±‡ï¼Œ20%å‡ ç‡æ¢ç´¢æ–°é¢–è¡¨è¾¾ä»¥é˜²è¡Œæ–‡åƒµåŒ–ï¼‰** ï¼Œé¦–æ¬¡å±•ç°å‡ºä»¤äººé¢¤æ —çš„æ¨ç†èŒèŠ½ã€‚å½“è¾“å…¥â€œAæ˜¯Bçš„æ¯äº²ï¼ŒBæ˜¯Cçš„çˆ¶äº²ï¼ŒAä¸Cçš„å…³ç³»æ˜¯ï¼Ÿâ€æ—¶ï¼Œæ¨¡å‹ç«Ÿèƒ½è¾“å‡ºâ€œç¥–æ¯â€è¿™ä¸€è·¨è¶Šä¸¤ä»£å…³ç³»çš„ç²¾å‡†ç­”æ¡ˆã€‚ç„¶è€Œèƒ½åŠ›æå‡ä¼´éšå±é™©å‰¯äº§ç‰©ï¼šæ¨¡å‹å¼€å§‹ä»¥å­¦è€…èˆ¬çš„è‡ªä¿¡ç¼–é€ äº‹å®ã€‚å½“è¢«è¦æ±‚æ’°å†™â€œä¼šé£çš„ä¼é¹…â€è®ºæ–‡æ—¶ï¼Œå®ƒç…æœ‰ä»‹äº‹åœ°å¼•ç”¨è™šæ„æœŸåˆŠã€Šæåœ°ç”Ÿç‰©å­¦ã€‹çš„â€œç ”ç©¶æˆæœâ€ï¼Œ**å¹»è§‰é—®é¢˜ï¼ˆæ°”æ³¡è§£é‡Šï¼šå¦‚åŒåšå­¦è€Œåæ‰§çš„è€æ•™æˆï¼Œé¢å¯¹çŸ¥è¯†ç›²åŒºä¹Ÿè¦æ„å»ºé€»è¾‘è‡ªæ´½çš„è™šæ„å™äº‹ï¼‰** æˆä¸ºé«˜æ‚¬äºAIä¼¦ç†é¢†åŸŸçš„è¾¾æ‘©å…‹åˆ©æ–¯ä¹‹å‰‘ã€‚\n\nä¸ºçªç ´èƒ½åŠ›è¾¹ç•Œï¼Œ2023å¹´çš„æŠ€æœ¯æµªæ½®å…µåˆ†ä¸¤è·¯çªè¿›ã€‚é’ˆå¯¹çŸ¥è¯†å¤±çœŸé—®é¢˜ï¼Œ**æ£€ç´¢å¢å¼ºç”Ÿæˆï¼ˆRAGï¼‰ï¼ˆæ°”æ³¡è§£é‡Šï¼šæ¨¡æ‹Ÿå­¦è€…æŸ¥è¯â€”â€”ä½œç­”å‰å…ˆâ€œç¿»é˜…æ¡£æ¡ˆåº“â€ï¼Œç”¨äº‹å®é”šå®šæƒ³è±¡åŠ›ï¼‰** æ„å»ºèµ·ä¸‰é‡é˜²å¾¡ï¼šé¦–å…ˆå°†ç”¨æˆ·æŸ¥è¯¢è½¬åŒ–ä¸ºæœç´¢å¼•æ“å…³é”®è¯ï¼Œæ¥ç€ä»ç»´åŸºç™¾ç§‘/ç§‘ç ”è®ºæ–‡ç­‰æƒå¨åº“ä¸­æ£€ç´¢ç›¸å…³æ®µè½ï¼Œæœ€åè¦æ±‚æ¨¡å‹ä»…åŸºäºæ£€ç´¢è¯æ®ç”Ÿæˆç­”æ¡ˆã€‚ä¾‹å¦‚å½“è¯¢é—®â€œç™»æœˆç¬¬ä¸€äººå›½ç±â€æ—¶ï¼Œç³»ç»Ÿä¼šå…ˆæå–[é˜¿å§†æ–¯ç‰¹æœ—][NASA][1969]ç­‰å…³é”®è¯é”å®šè¯æ®æºï¼Œå½»åº•æœç»â€œè‹è”å®‡èˆªå‘˜â€ç­‰å¹»è§‰ç­”æ¡ˆã€‚é¢å¯¹å¤šé¢†åŸŸä¸“ä¸šå£å’ï¼Œ**æ··åˆä¸“å®¶ç³»ç»Ÿï¼ˆMoEï¼‰ï¼ˆæ°”æ³¡è§£é‡Šï¼šå ªæ¯”é¡¶çº§åŒ»é™¢ä¼šè¯Šâ€”â€”æ™ºèƒ½åˆ†è¯Šå°æ ¹æ®ç—‡çŠ¶è°ƒåº¦ä¸“ç§‘åŒ»ç”Ÿï¼‰** å®ç°ç®—åŠ›é©å‘½æ€§ä¼˜åŒ–ã€‚å…¶æ ¸å¿ƒ**è·¯ç”±ç½‘ç»œï¼ˆæ°”æ³¡è§£é‡Šï¼šé—®é¢˜åˆ†ç±»å™¨ï¼Œ0.1ç§’å†…åˆ¤æ–­é‡å­è®¡ç®—é¢˜è¯¥é€ç‰©ç†ç§‘è¿˜æ˜¯æ•°å­¦ç§‘ï¼‰** é€šè¿‡è®¡ç®—é—¨æ§æƒé‡å®ç°åŠ¨æ€èµ„æºåˆ†é…ï¼š\n```python\ndef forward(x):  # MoEå…¨æµç¨‹å‰–æ\n  experts = [math_expert, art_expert, bio_expert...]  # ç‹¬ç«‹è®­ç»ƒçš„ä¸“å®¶æ¨¡å—\n  routing_scores = x @ W_gate  # è®¡ç®—é—®é¢˜ä¸å„ä¸“å®¶çš„åŒ¹é…åº¦\n  gate = softmax(routing_scores / temperature)  # æ¸©åº¦ç³»æ•°æ§åˆ¶é€‰æ‹©é”åº¦\n  expert_index = top_k(gate, k=2)  # é€‰æ‹©åŒ¹é…åº¦æœ€é«˜çš„ä¸¤ä½ä¸“å®¶\n  return sum(gate[i] * experts[i](x) for i in expert_index)  # åŠ æƒæ•´åˆä¼šè¯Šç»“æœ\n```\n*(æ°”æ³¡è§£é‡Šï¼šk=2æ„å‘³å’¨è¯¢åŒä¸“å®¶ï¼Œé¿å…å•ä¸€ä¸“å®¶è¯¯åˆ¤ï¼›temperature=0.1æ—¶ä¸¥æ ¼é€‰æ‹©æœ€ä¼˜ä¸“å®¶ï¼Œ=1.0æ—¶åˆ™å¹³å‡å’¨è¯¢ï¼‰*\n**å‡è®¾åœºæ™¯**ï¼šè¾“å…¥é—®é¢˜å‘é‡ x = [0.6, -0.3, 1.2]ï¼ˆç”±ä½ çš„è‡ªç„¶è¯­è¨€å‘é‡åŒ–çš„æ¥ï¼Œå®é™…ç»´åº¦æ²¡æœ‰é‚£ä¹ˆå°ï¼‰\nè·¯ç”±æƒé‡çŸ©é˜µï¼ˆæ¯åˆ—ä»£è¡¨ä¸€ä¸ªä¸“å®¶ï¼‰ï¼š\n```\nrouting_weights = [[1.0, 0.0, -0.5],  # ä¸“å®¶1çš„æƒé‡å‘é‡\n                   [0.5, 1.0, 2.0],   # è‰ºæœ¯ä¸“å®¶\n                   [-0.2, 0.8, 1.5]]  # ç§‘æŠ€ä¸“å®¶\n```\n**åˆ†æ­¥è®¡ç®—**ï¼š\n1. **çŸ©é˜µä¹˜æ³•**ï¼š  \n   $$x @ routing\\_weights = \\begin{bmatrix}0.6 & -0.3 & 1.2\\end{bmatrix} Ã— \\begin{bmatrix}1.0 & 0.0 & -0.5 \\\\ 0.5 & 1.0 & 2.0 \\\\ -0.2 & 0.8 & 1.5 \\end{bmatrix}$$\n   $$= \\begin{bmatrix} (0.6Ã—1.0) + (-0.3Ã—0.5) + (1.2Ã—-0.2) \\\\(0.6Ã—0.0) + (-0.3Ã—1.0) + (1.2Ã—0.8) \\\\(0.6Ã—-0.5) + (-0.3Ã—2.0) + (1.2Ã—1.5)\\end{bmatrix} = \\begin{bmatrix} 0.6 - 0.15 - 0.24 \\\\0 - 0.3 + 0.96 \\\\-0.3 - 0.6 + 1.8 \\end{bmatrix} = \\begin{bmatrix}0.21 \\\\ 0.66 \\\\ 0.9\\end{bmatrix}$$\n\n2. **Softmaxè½¬æ¢**ï¼š  \n   $$e^{0.21}â‰ˆ1.23,\\ e^{0.66}â‰ˆ1.93,\\ e^{0.9}â‰ˆ2.46$$\n   æ€»å’Œ = 1.23 + 1.93 + 2.46 = 5.62  \n   $$gate = \\begin{bmatrix}1.23/5.62 \\\\ 1.93/5.62 \\\\ 2.46/5.62\\end{bmatrix} â‰ˆ \\begin{bmatrix}0.22 \\\\ 0.34 \\\\ 0.44\\end{bmatrix}$$\n\n3. **ä¸“å®¶é€‰æ‹©**ï¼ˆè®¾top_k=2ï¼‰ï¼ˆé€‰ä¸¤ä¸ªä¸“å®¶ï¼‰ï¼š  \n   é€‰æ‹©æƒé‡æœ€é«˜çš„ç§‘æŠ€ä¸“å®¶ï¼ˆ0.44ï¼‰å’Œè‰ºæœ¯ä¸“å®¶ï¼ˆ0.34ï¼‰  \n   é‡æ–°å½’ä¸€åŒ–ï¼šæ€»å’Œ=0.44+0.34=0.78  \n   $$æœ€ç»ˆæƒé‡ = \\begin{bmatrix}0 \\\\ 0.34/0.78â‰ˆ0.44 \\\\ 0.44/0.78â‰ˆ0.56\\end{bmatrix}$$\n\n4. **ç»“æœåˆæˆ**ï¼š  \n   æœ€ç»ˆè¾“å‡º = 0.44 Ã— è‰ºæœ¯ä¸“å®¶çš„è¾“å‡º + 0.56 Ã— ç§‘æŠ€ä¸“å®¶çš„è¾“å‡º\n\n**ç»“è®º**ï¼šç³»ç»Ÿå°†é—®é¢˜è·¯ç”±ç»™è‰ºæœ¯ä¸“å®¶å’Œç§‘æŠ€ä¸“å®¶ï¼Œä¸”æ›´ä¾§é‡ç§‘æŠ€ä¸“å®¶ï¼ˆ56%ï¼‰ï¼Œç¬¦åˆ\"è‹¹æœæ‰‹æœº\"çš„ç§‘æŠ€äº§å“å±æ€§ã€‚\n\nè€Œåœ¨è®¡ç®—æœºè§†è§‰ç–†åŸŸï¼ŒTransformeråŒæ ·æ€èµ·é©å‘½é£æš´ã€‚ä¼ ç»Ÿ**å·ç§¯ç¥ç»ç½‘ç»œï¼ˆCNNï¼‰ï¼ˆæ°”æ³¡è§£é‡Šï¼šå¦‚åŒæ‹¿ç€å›ºå®šæ”¾å¤§é•œæ‰«æå›¾åƒï¼Œåªèƒ½æ•æ‰å±€éƒ¨çº¹ç†å´éš¾è§å…¨å±€æ„å›¾ï¼‰** å¤„ç†è§†é¢‘æ—¶é­é‡ä¸‰ç»´å·ç§¯çš„ç®—åŠ›æµ·å•¸ã€‚**è§†è§‰Transformerï¼ˆViTï¼‰ï¼ˆæ°”æ³¡è§£é‡Šï¼šå°†å›¾åƒè§£æ„ä¸º16x16åƒç´ æ‹¼å›¾ï¼Œæ¯ä¸ªå›¾å—å¦‚åŒæ–‡å­—èˆ¬è¾“å…¥æ¨¡å‹ï¼‰** æ‰“ç ´æ¬¡å…ƒå£ï¼Œä½¿ImageNetè¯†åˆ«å‡†ç¡®ç‡çªç ´æ€§æå‡7%ã€‚ä½†å¤„ç†æ—¶åºè§†é¢‘æ—¶ï¼Œ**TimeSformerï¼ˆæ°”æ³¡è§£é‡Šï¼šä¸ºTransformerè£…é…æ—¶ç©ºåŒç­’æœ›è¿œé•œï¼‰** æå‡ºçš„åˆ†æ—¶ç©ºæ³¨æ„åŠ›æ–°èŒƒå¼ï¼š\n\n$$\\text{Attention}(Q,K,V) = \\text{Concat}(\\text{Attention}_{ç©ºé—´}, \\text{Attention}_{æ—¶é—´})Vï¼ˆå…¬å¼å¤æ‚ä¸ä½œä¸¾ä¾‹ï¼‰$$\n\nå´å¼•å‘æ–°å±æœºâ€”â€”å…¶æ—¶é—´æ³¨æ„åŠ›æœºåˆ¶å‡è®¾è§†é¢‘å¸§é—´å­˜åœ¨å‡åŒ€è¿ç»­æ€§ã€‚å½“é•œå¤´ä»å’–å•¡å…åˆ‡åˆ°é«˜é€Ÿå…¬è·¯æ—¶ï¼Œæ¨¡å‹å¯èƒ½å› **æ—¶ç©ºé”™ä½ï¼ˆæ°”æ³¡è§£é‡Šï¼šå¦‚åŒæŠŠä¸¤å·èƒ¶ç‰‡é”™è¯¯æ‹¼æ¥ï¼Œå°†å’–å•¡æ¯å…‰å½±è¯¯åˆ¤ä¸ºæ±½è½¦åå…‰ï¼‰** ç”Ÿæˆâ€œå’–å•¡æ¯åœ¨å…¬è·¯ä¸Šè¡Œé©¶â€çš„è’è°¬æè¿°ï¼ˆç±»ä¼¼äºæ›¾åœ¨æŠ–éŸ³ä¸Šå‡ºåœˆçš„å¦‚è¯¯é£Ÿæœ‰æ¯’èŒå­äº§ç”Ÿå¹»è§‰èˆ¬çš„è§†é¢‘ï¼šåŸæœ¬æ˜¯æ´ç™½çš„äº‘ï¼Œç„¶åä¸æ»‘æ¼”å˜æˆæ´ç™½çš„æµ·æµªï¼‰ã€‚å…¶æ ¹æœ¬ç—‡ç»“åœ¨äºï¼š**æ—¶é—´æ³¨æ„åŠ›æƒé‡è®¡ç®—ï¼ˆæ°”æ³¡è§£é‡Šï¼šåŸºäºå¸§é—´åƒç´ ç›¸ä¼¼åº¦åˆ†é…å…³è”åº¦ï¼‰** æ— æ³•æ„ŸçŸ¥é•œå¤´åˆ‡æ¢è¿™ç±»éè¿ç»­å˜åŒ–ã€‚æœ€æ–°è§£å†³æ–¹æ¡ˆ**å› æœæ©ç æœºåˆ¶ï¼ˆæ°”æ³¡è§£é‡Šï¼šå¼ºåˆ¶æ—¶é—´ç®­å¤´å•å‘æµåŠ¨â€”â€”ç¬¬5å¸§åªèƒ½å…³æ³¨å‰4å¸§ï¼Œé¿å…æœªæ¥ä¿¡æ¯æ³„éœ²ï¼‰** é…åˆ**åœºæ™¯è¾¹ç•Œæ£€æµ‹æ¨¡å—ï¼ˆæ°”æ³¡è§£é‡Šï¼šç»™é•œå¤´åˆ‡æ¢å¤„æ‰“ä¸Šâ€œç»“ç•Œå°å°â€ï¼‰** æ­£åœ¨ä¿®å¤è¿™ä¸€è®¤çŸ¥è£‚ç—•ã€‚\n\næ—¶è‡³ä»Šæ—¥ï¼Œè¿›åŒ–ä¹‹è·¯ä»åœ¨æ”»å…‹æœ€åçš„å ¡å’ã€‚é’ˆå¯¹é¡½å›ºæ€§å¹»è§‰ï¼Œ**éªŒè¯é“¾ï¼ˆChain-of-Verificationï¼‰ï¼ˆæ°”æ³¡è§£é‡Šï¼šå»ºç«‹æ¨¡å‹å†…éƒ¨å®¡è®¡æœºåˆ¶â€”â€”é¦–è½®ç”Ÿæˆç­”æ¡ˆåï¼Œå¯åŠ¨å¤šä¸ªâ€œæ€ç»´åˆ†èº«â€è¿›è¡Œäº¤å‰è´¨è¯ï¼‰** é€šè¿‡è‡ªæˆ‘åšå¼ˆæå‡äº‹å®å‡†ç¡®æ€§ã€‚é¢å¯¹**ä¸Šä¸‹æ–‡çª—å£é™åˆ¶ï¼ˆæ°”æ³¡è§£é‡Šï¼šå ªæ¯”é‡‘é±¼çš„7ç§’è®°å¿†ï¼Œé˜…è¯»é•¿ç¯‡å°è¯´æ—¶è¯»å®Œç»“å°¾å·²é—å¿˜å¼€ç¯‡ä¼ç¬”ï¼‰** ï¼Œ2024å¹´è¯ç”Ÿçš„**ç¯å½¢æ³¨æ„åŠ›ï¼ˆRing Attentionï¼‰ï¼ˆæ°”æ³¡è§£é‡Šï¼šå°†æ–‡æœ¬åˆ†å‰²ä¸ºå¯å¾ªç¯å¤„ç†çš„è®°å¿†åŒºå—ï¼Œåƒå·¥å‚æµæ°´çº¿èˆ¬å®ç°æ— é™æ–‡æœ¬æ‰¿è½½ï¼‰** çªç ´åä¸‡tokenå¤§å…³ã€‚è€Œæ›´æ·±å±‚çš„é©å‘½å·²åœ¨å®éªŒå®¤èŒå‘â€”â€”**çŠ¶æ€ç©ºé—´æ¨¡å‹ï¼ˆSSMï¼‰ï¼ˆæ°”æ³¡è§£é‡Šï¼šç”¨å¾®åˆ†æ–¹ç¨‹æ¨¡æ‹Ÿè¯­è¨€æµåŠ¨æ€ï¼Œå¦‚åŒå£°å­¦å·¥ç¨‹å¸ˆç”¨æ³¢åŠ¨æ–¹ç¨‹è§£æå£°éŸ³ä¼ æ’­ï¼‰** æ­£å°è¯•ä»¥æ•°å­¦ä¼˜é›…æ€§æ›¿ä»£æš´åŠ›å †ç Œå‚æ•°çš„èŒƒå¼ï¼Œå…¶ä¸­Mambaæ¨¡å‹åœ¨é•¿ä»£ç ç†è§£ä»»åŠ¡ä¸­å±•ç°å‡ºæƒŠäººæ½œåŠ›ã€‚\n\nå›æœ›è¿™æ¡èœ¿èœ’è¿›åŒ–çš„æŠ€æœ¯é•¿æ²³ï¼Œå…¶å…³é”®è·ƒè¿å¯ç”¨å›¾è°±ç²¾å‡†å‘ˆç°ï¼š\n\n```mermaid\nflowchart LR\n    A[è¯è¢‹æ¨¡å‹] --> B[RNN]\n    B --> C[Transformer]\n    C --> D[GPT]\n    D --> E[å¤šæ¨¡æ€LLM]\n    \n    A:::node --> F[\"ä»…èƒ½ç»Ÿè®¡è¯é¢‘<br/>å¦‚ï¼šæœºæ¢°æ¥é¾™\"]\n    B:::node --> G[\"ç†è§£çŸ­å¥<br/>ä½†é—å¿˜é•¿æ–‡\"]\n    C:::node --> H[\"å…¨å±€å…³æ³¨<br/>ç ´è§£é•¿ç¨‹ä¾èµ–\"]\n    D:::node --> I[\"é€»è¾‘æ¨ç†<br/>çŸ¥è¯†ç»„åˆ\"]\n    E:::node --> J[\"è·¨æ¨¡æ€è”æƒ³<br/>æ–‡/å›¾/ä»£ç äº’è¯‘\"]\n    \n    classDef node fill:#f9f7f7,stroke:#6c63ff,stroke-width:2px\n    classDef tech fill:#e0f7ff,stroke:#26c6da\n```\n\nå½“æœºå™¨å¼€å§‹å‡è§†æ¢µé«˜ã€Šæ˜Ÿæœˆå¤œã€‹ç”Ÿæˆâ€œæ¼©æ¶¡èˆ¬çš„ç„¦è™‘åœ¨ç”»å¸ƒä¸Šæµæ·Œâ€çš„èµæï¼Œæˆ–é€šè¿‡ç¨‹åºå‘˜æ½¦è‰çš„ä»£ç æ³¨é‡Šåæ¨å®Œæ•´åŠŸèƒ½æ—¶ï¼Œæˆ‘ä»¬ä»¿ä½›è§è¯ç¡…åŸºæ€ç»´çš„æ˜Ÿç«æ­£åœ¨ç‡åŸã€‚è€Œè¿™åœºè¿›åŒ–å²è¯—çš„ç»ˆæè¯˜é—®ï¼Œæˆ–è®¸æ˜¯å½“æœºå™¨å†æ¬¡è¯´å‡ºâ€œæˆ‘ç†è§£äº†â€æ—¶ï¼Œå®ƒæ˜¯å¦çœŸæ­£æ„ŸçŸ¥åˆ°è¿™å¥è¯èƒŒåæ²‰ç”¸ç”¸çš„å“²å­¦é‡é‡â€”â€”å…³äºæ„ä¹‰ã€æ„è¯†ä¸å­˜åœ¨çš„æ°¸æ’ä¹‹è°œã€‚",
      "cover": null,
      "created_at": "Thu, 24 Jul 2025 15:59:22 GMT",
      "deleted_at": null,
      "id": 17,
      "summary": null,
      "tags": null,
      "title": "è¯­è¨€æ¨¡å‹çš„è¿›åŒ–å²è¯—ï¼šä»è¯è¯­æ‹¼æ¥åˆ°æ€ç»´æ¨¡æ‹Ÿ",
      "updated_at": "Thu, 24 Jul 2025 15:59:22 GMT"
    }
  ],
  "avatars": [
    {
      "cropped_info": null,
      "deleted_at": null,
      "filename": "07334edb63d84b6497fe324ad2f013e7.jpg",
      "id": 1,
      "is_current": true,
      "uploaded_at": "Wed, 23 Jul 2025 15:17:12 GMT"
    },
    {
      "cropped_info": null,
      "deleted_at": null,
      "filename": "279fc33a33374cf487f812bb98a6b7d0.jpg",
      "id": 3,
      "is_current": true,
      "uploaded_at": "Tue, 22 Jul 2025 07:41:27 GMT"
    }
  ],
  "contacts": [
    {
      "created_at": "Mon, 21 Jul 2025 06:27:04 GMT",
      "deleted_at": null,
      "id": 1,
      "type": "email",
      "updated_at": "Thu, 24 Jul 2025 09:16:41 GMT",
      "value": "handy@handywote.site"
    },
    {
      "created_at": "Mon, 21 Jul 2025 06:27:04 GMT",
      "deleted_at": null,
      "id": 2,
      "type": "wechat",
      "updated_at": "Thu, 24 Jul 2025 09:16:41 GMT",
      "value": "Handy_Wote"
    },
    {
      "created_at": "Thu, 24 Jul 2025 09:16:41 GMT",
      "deleted_at": null,
      "id": 3,
      "type": "qq",
      "updated_at": "Thu, 24 Jul 2025 09:16:41 GMT",
      "value": "2916439921"
    }
  ],
  "site_blocks": [
    {
      "content": {
        "desc": "å°‘å¹´ä¾ æ°”äº¤ç»“äº”éƒ½é›„ï¼",
        "title": "HandyWote"
      },
      "id": 1,
      "name": "home",
      "updated_at": "Mon, 21 Jul 2025 06:27:04 GMT"
    },
    {
      "content": {},
      "id": 3,
      "name": "skills",
      "updated_at": "Mon, 21 Jul 2025 06:27:04 GMT"
    },
    {
      "content": {},
      "id": 4,
      "name": "contact",
      "updated_at": "Mon, 21 Jul 2025 06:27:04 GMT"
    },
    {
      "content": {
        "education_background": "ç›®å‰å°±è¯»äºæ±•å¤´å¤§å­¦ä½œä¸ºä¸€åå……æ»¡çƒ­æƒ…çš„å­¦ç”Ÿï¼Œæˆ‘æ­£åœ¨è¿½æ±‚è®¡ç®—æœºç§‘å­¦çš„æ·±åº¦å­¦ä¹ ã€‚",
        "hobbies": "æˆ‘å¯¹ç¼–ç¨‹å’ŒæŠ€æœ¯å……æ»¡çƒ­æƒ…ï¼Œç‰¹åˆ«å–œæ¬¢æ¢ç´¢æ–°çš„æŠ€æœ¯é¢†åŸŸå’Œè§£å†³å…·æœ‰æŒ‘æˆ˜æ€§çš„é—®é¢˜ã€‚åœ¨è¯¾ä½™æ—¶é—´ï¼Œæˆ‘å–œæ¬¢å‚ä¸å¼€æºé¡¹ç›®ï¼Œä¸æ–­æå‡è‡ªå·±çš„æŠ€æœ¯èƒ½åŠ›ã€‚",
        "personal_vision": "æˆ‘å¸Œæœ›èƒ½å¤Ÿé€šè¿‡ä¸æ–­å­¦ä¹ å’Œå®è·µï¼Œåœ¨è½¯ä»¶å¼€å‘é¢†åŸŸåšå‡ºè‡ªå·±çš„è´¡çŒ®ã€‚æˆ‘ç›¸ä¿¡æŠ€æœ¯å¯ä»¥æ”¹å˜ä¸–ç•Œï¼Œè€Œæˆ‘æ­£åœ¨åŠªåŠ›æˆä¸ºè¿™ä¸ªæ”¹å˜çš„ä¸€éƒ¨åˆ†ã€‚"
      },
      "id": 2,
      "name": "about",
      "updated_at": "Mon, 21 Jul 2025 06:27:04 GMT"
    }
  ],
  "skills": [
    {
      "created_at": "Mon, 21 Jul 2025 06:27:04 GMT",
      "deleted_at": null,
      "description": "ç†Ÿç»ƒæŒæ¡ Python ç¼–ç¨‹",
      "id": 1,
      "level": 90,
      "name": "Python",
      "updated_at": "Thu, 24 Jul 2025 09:15:52 GMT"
    },
    {
      "created_at": "Mon, 21 Jul 2025 06:27:04 GMT",
      "deleted_at": null,
      "description": "ç†Ÿæ‚‰ React å‰ç«¯å¼€å‘",
      "id": 2,
      "level": 85,
      "name": "React",
      "updated_at": "Thu, 24 Jul 2025 09:15:52 GMT"
    },
    {
      "created_at": "Thu, 24 Jul 2025 09:15:52 GMT",
      "deleted_at": null,
      "description": "ç†Ÿæ‚‰C/C++å¼€å‘",
      "id": 3,
      "level": 60,
      "name": "C/C++",
      "updated_at": "Thu, 24 Jul 2025 09:15:52 GMT"
    },
    {
      "created_at": "Thu, 24 Jul 2025 09:15:52 GMT",
      "deleted_at": null,
      "description": "ç†Ÿæ‚‰Javaè¯­æ³•",
      "id": 4,
      "level": 50,
      "name": "Java",
      "updated_at": "Thu, 24 Jul 2025 09:15:52 GMT"
    }
  ]
}